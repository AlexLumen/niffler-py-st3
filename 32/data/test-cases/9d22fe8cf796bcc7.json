{"uid":"9d22fe8cf796bcc7","name":"Создание Траты","fullName":"tests.api_tests.test_spendings_api#test_add_spend","historyId":"098d960f521142455338d4e8ec19d68d","time":{"start":1771528577817,"stop":1771528577858,"duration":41},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Base Url","time":{"start":1771528571280,"stop":1771528571280,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1771528571280,"stop":1771528571280,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Pytestconfig","time":{"start":1771528571281,"stop":1771528571281,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Delete Output Dir","time":{"start":1771528571281,"stop":1771528571281,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771528571281,"stop":1771528571287,"duration":6},"status":"passed","steps":[],"attachments":[{"uid":"fad37fcdc1852d54","name":"envs.json","source":"fad37fcdc1852d54.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S] Authority Db","time":{"start":1771528571288,"stop":1771528571458,"duration":170},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771528571458,"stop":1771528571459,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771528571459,"stop":1771528572903,"duration":1444},"status":"passed","steps":[{"name":"GET /register","time":{"start":1771528571491,"stop":1771528572105,"duration":614},"status":"passed","steps":[],"attachments":[{"uid":"f3ff9eb503fbe294","name":"Request","source":"f3ff9eb503fbe294.html","type":"text/html","size":2053},{"uid":"6da325fcd00a4de1","name":"0d9dc050-d69d-4f8b-9a8c-3b3b2bff693f-attachment.txt","source":"6da325fcd00a4de1.txt","type":"text/plain","size":3731}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /register","time":{"start":1771528572119,"stop":1771528572903,"duration":784},"status":"passed","steps":[],"attachments":[{"uid":"2d985974bbf26e55","name":"Request","source":"2d985974bbf26e55.html","type":"text/html","size":2710},{"uid":"e1df0b587e5d9d2f","name":"d6bea3f6-b74c-4cf2-a19b-75ce31309015-attachment.txt","source":"e1df0b587e5d9d2f.txt","type":"text/plain","size":2279}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"[S] Category Db","time":{"start":1771528572903,"stop":1771528572905,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Token","time":{"start":1771528572905,"stop":1771528574190,"duration":1285},"status":"passed","steps":[{"name":"GET /oauth2/authorize","time":{"start":1771528572922,"stop":1771528573176,"duration":254},"status":"passed","steps":[],"attachments":[{"uid":"23800dd6a082bcf1","name":"Request","source":"23800dd6a082bcf1.html","type":"text/html","size":2119},{"uid":"289f4f8e9bea3d25","name":"f9418551-8e85-4693-b010-553022ff21f9-attachment.txt","source":"289f4f8e9bea3d25.txt","type":"text/plain","size":2897}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /login","time":{"start":1771528573191,"stop":1771528573928,"duration":737},"status":"passed","steps":[],"attachments":[{"uid":"8a2e38706eaabbbf","name":"Request","source":"8a2e38706eaabbbf.html","type":"text/html","size":2397},{"uid":"6d2588d06c23f2e4","name":"0473e9d1-bec0-4e25-b098-570572debeb2-attachment.txt","source":"6d2588d06c23f2e4.txt","type":"text/plain","size":417}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /oauth2/token","time":{"start":1771528573943,"stop":1771528574190,"duration":247},"status":"passed","steps":[],"attachments":[{"uid":"42f6e1bf73e17730","name":"Request","source":"42f6e1bf73e17730.html","type":"text/html","size":3376},{"uid":"e79dc98fbb39eb8c","name":"Response json 200","source":"e79dc98fbb39eb8c.json","type":"application/json","size":1521}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"[S] Spend Db","time":{"start":1771528576122,"stop":1771528576122,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spends Client","time":{"start":1771528577815,"stop":1771528577816,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Delete Category With Spendings","time":{"start":1771528577816,"stop":1771528577816,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spend Data For Add","time":{"start":1771528577816,"stop":1771528577816,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Currency","time":{"start":1771528577953,"stop":1771528577953,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Отправить запрос на создание траты","time":{"start":1771528577817,"stop":1771528577857,"duration":40},"status":"passed","steps":[{"name":"POST /api/spends/add","time":{"start":1771528577825,"stop":1771528577856,"duration":31},"status":"passed","steps":[],"attachments":[{"uid":"d25522b1098351ba","name":"Request","source":"d25522b1098351ba.html","type":"text/html","size":4197},{"uid":"8f5e9936e367de5c","name":"Response json 201","source":"8f5e9936e367de5c.json","type":"application/json","size":394}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"spend","value":"{'amount': 1185.05, 'description': 'The sequential subset of Erlang supports', 'category': CategoryAdd(name='always', username=None, archived=None), 'spendDate': '2026-02-18T19:16:17.815768', 'currency': 'USD'}"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Сравнить 1185.05 и 1185.05","time":{"start":1771528577857,"stop":1771528577857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить The sequential subset of Erlang supports и The sequential subset of Erlang supports","time":{"start":1771528577857,"stop":1771528577857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить 2026-02-18 и 2026-02-18","time":{"start":1771528577857,"stop":1771528577858,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить USD и USD","time":{"start":1771528577858,"stop":1771528577858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить always и always","time":{"start":1771528577858,"stop":1771528577858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"delete_category_with_spendings::teardown","time":{"start":1771528577859,"stop":1771528577948,"duration":89},"status":"passed","steps":[{"name":"Отправить запрос на получение списка трат","time":{"start":1771528577860,"stop":1771528577893,"duration":33},"status":"passed","steps":[{"name":"GET /api/spends/all","time":{"start":1771528577867,"stop":1771528577893,"duration":26},"status":"passed","steps":[],"attachments":[{"uid":"70717bf117d45f38","name":"Request","source":"70717bf117d45f38.html","type":"text/html","size":3575},{"uid":"f57d772fa14ee0ce","name":"Response json 200","source":"f57d772fa14ee0ce.json","type":"application/json","size":454}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Отправить запрос на удаление траты","time":{"start":1771528577893,"stop":1771528577940,"duration":47},"status":"passed","steps":[{"name":"DELETE /api/spends/remove","time":{"start":1771528577901,"stop":1771528577940,"duration":39},"status":"passed","steps":[],"attachments":[{"uid":"14c530d6f36e5e06","name":"Request","source":"14c530d6f36e5e06.html","type":"text/html","size":3789},{"uid":"4b9857f36f0de79f","name":"4a093d06-e61b-43a0-937f-35db0948f935-attachment.txt","source":"4b9857f36f0de79f.txt","type":"text/plain","size":0}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"ids","value":"['19b3dffa-eeaf-4a98-b728-100fa8e622be']"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a604989b65092a1f","name":"SELECT niffler-spend","source":"a604989b65092a1f.txt","type":"text/plain","size":145},{"uid":"caa94ba3bbaf6dd","name":"SELECT niffler-spend","source":"caa94ba3bbaf6dd.txt","type":"text/plain","size":218},{"uid":"8235db2243fdc1d1","name":"DELETE niffler-spend","source":"8235db2243fdc1d1.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":7,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"feature","value":"Траты"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"8809-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api_tests.test_spendings_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"currency","value":"'USD'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":5,"skipped":0,"passed":2,"unknown":0,"total":7},"items":[{"uid":"3ff77b7bfa9d99f7","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/31/#testresult/3ff77b7bfa9d99f7","status":"passed","time":{"start":1771526338161,"stop":1771526338206,"duration":45}},{"uid":"a79680c745a6eef4","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/30/#testresult/a79680c745a6eef4","status":"broken","statusDetails":"requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)","time":{"start":1771524784701,"stop":1771524784701,"duration":0}},{"uid":"ce32574232c0574c","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/29/#testresult/ce32574232c0574c","status":"broken","statusDetails":"requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)","time":{"start":1771523336281,"stop":1771523336281,"duration":0}},{"uid":"28b954cf64715d6c","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/28/#testresult/28b954cf64715d6c","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='gateway.niffler.dc', port=8090): Max retries exceeded with url: /api/spends/add (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f2f2bf88c40>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1771442805906,"stop":1771442805918,"duration":12}},{"uid":"a4ddd3cf4b882501","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/27/#testresult/a4ddd3cf4b882501","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='gateway.niffler.dc', port=8090): Max retries exceeded with url: /api/spends/add (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5c6e94a7a0>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1771441714620,"stop":1771441714629,"duration":9}},{"uid":"be520e89a22d05ac","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/26/#testresult/be520e89a22d05ac","status":"broken","statusDetails":"requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)","time":{"start":1771352547132,"stop":1771352547132,"duration":0}}]},"tags":[]},"source":"9d22fe8cf796bcc7.json","parameterValues":["'USD'"]}