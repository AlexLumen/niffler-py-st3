{"uid":"511f9b271edd0212","name":"Успешная авторизация","fullName":"tests.ui_tests.test_login_page#test_success_login","historyId":"998aff89bcbb1c8e6b7d3a435ac05e7a","time":{"start":1771523341056,"stop":1771523347159,"duration":6103},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_text(\"History of Spendings\")","statusTrace":"page = <Page url='http://auth.niffler.dc:9000/login?error'>\nmain_page = <pages.main_page.MainPage object at 0x7f30331cabf0>\nenvs = Envs(frontend_url='http://frontend.niffler.dc', gateway_url='http://gateway.niffler.dc:8090', spend_db_url='postgresql...trap_servers='localhost:9093', userdata_db_url='postgresql+psycopg2://postgres:secret@localhost:5432/niffler-userdata')\nlogin_page = <pages.login_page.LoginPage object at 0x7f30331c8f10>\n\n    @allure.feature(\"Страница авторизации\")\n    @allure.title(\"Успешная авторизация\")\n    def test_success_login(page, main_page, envs, login_page):\n        login_page.send_user_name(envs.username)\n        login_page.send_password(envs.password)\n        login_page.click_login_button()\n>       main_page.check_spendings_block_visibility()\n\ntests/ui_tests/test_login_page.py:14: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.main_page.MainPage object at 0x7f30331cabf0>\n\n    def check_spendings_block_visibility(self):\n        \"\"\"\n         проверить отображение блока History of Spendings\n        \"\"\"\n>       self.history_spendings_title.should_be_visible()\n\npages/main_page.py:33: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_factory.title.Title object at 0x7f30331ca020>, kwargs = {}\nlocator = <Locator frame=<Frame name= url='http://auth.niffler.dc:9000/login?error'> selector='internal:text=\"History of Spendings\"i'>\n\n    def should_be_visible(self, **kwargs):\n        with allure.step(f'Проверить что {self.type_of} \"{self.name}\" отображается'):\n            locator = self.get_locator(**kwargs)\n>           expect(locator).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: None\nE           Error: element(s) not found \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_text(\"History of Spendings\")\n\npage_factory/component.py:55: AssertionError","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Base Url","time":{"start":1771523333002,"stop":1771523333002,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Delete Output Dir","time":{"start":1771523333003,"stop":1771523333003,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1771523333003,"stop":1771523333003,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Pytestconfig","time":{"start":1771523333003,"stop":1771523333003,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771523333003,"stop":1771523333006,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"990c05139d73444b","name":"envs.json","source":"990c05139d73444b.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S] Authority Db","time":{"start":1771523333006,"stop":1771523333203,"duration":197},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771523333203,"stop":1771523333203,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771523333204,"stop":1771523333226,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Browser","time":{"start":1771523339735,"stop":1771523340821,"duration":1086},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Page","time":{"start":1771523340821,"stop":1771523341054,"duration":233},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Login Page","time":{"start":1771523341055,"stop":1771523341055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Main Page","time":{"start":1771523341055,"stop":1771523341055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_text(\"History of Spendings\")","statusTrace":"page = <Page url='http://auth.niffler.dc:9000/login?error'>\nmain_page = <pages.main_page.MainPage object at 0x7f30331cabf0>\nenvs = Envs(frontend_url='http://frontend.niffler.dc', gateway_url='http://gateway.niffler.dc:8090', spend_db_url='postgresql...trap_servers='localhost:9093', userdata_db_url='postgresql+psycopg2://postgres:secret@localhost:5432/niffler-userdata')\nlogin_page = <pages.login_page.LoginPage object at 0x7f30331c8f10>\n\n    @allure.feature(\"Страница авторизации\")\n    @allure.title(\"Успешная авторизация\")\n    def test_success_login(page, main_page, envs, login_page):\n        login_page.send_user_name(envs.username)\n        login_page.send_password(envs.password)\n        login_page.click_login_button()\n>       main_page.check_spendings_block_visibility()\n\ntests/ui_tests/test_login_page.py:14: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.main_page.MainPage object at 0x7f30331cabf0>\n\n    def check_spendings_block_visibility(self):\n        \"\"\"\n         проверить отображение блока History of Spendings\n        \"\"\"\n>       self.history_spendings_title.should_be_visible()\n\npages/main_page.py:33: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_factory.title.Title object at 0x7f30331ca020>, kwargs = {}\nlocator = <Locator frame=<Frame name= url='http://auth.niffler.dc:9000/login?error'> selector='internal:text=\"History of Spendings\"i'>\n\n    def should_be_visible(self, **kwargs):\n        with allure.step(f'Проверить что {self.type_of} \"{self.name}\" отображается'):\n            locator = self.get_locator(**kwargs)\n>           expect(locator).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: None\nE           Error: element(s) not found \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_text(\"History of Spendings\")\n\npage_factory/component.py:55: AssertionError","steps":[{"name":"Ввести в input \"Username\" значение \"Alex\"","time":{"start":1771523341058,"stop":1771523341549,"duration":491},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ввести в input \"Password\" значение \"SonyXperia\"","time":{"start":1771523341549,"stop":1771523341565,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать button  \"Log in\"","time":{"start":1771523341565,"stop":1771523341951,"duration":386},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить что title \"History of Spendings title\" отображается","time":{"start":1771523341951,"stop":1771523346954,"duration":5003},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_text(\"History of Spendings\")\n\n","statusTrace":"  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/page_factory/component.py\", line 55, in should_be_visible\n    expect(locator).to_be_visible()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 20454, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"21e365be11d1f89f","name":"screenshotе","source":"21e365be11d1f89f.png","type":"image/png","size":601212}],"parameters":[],"stepsCount":4,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"browser::teardown","time":{"start":1771523347166,"stop":1771523347202,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Страница авторизации"},{"name":"host","value":"runnervmieams"},{"name":"thread","value":"8682-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui_tests.test_login_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":2,"unknown":0,"total":4},"items":[{"uid":"d0c801a5aff4628e","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/28/#testresult/d0c801a5aff4628e","status":"passed","time":{"start":1771442812913,"stop":1771442815502,"duration":2589}},{"uid":"35a540f4f142806d","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/27/#testresult/35a540f4f142806d","status":"passed","time":{"start":1771441720546,"stop":1771441722864,"duration":2318}},{"uid":"228474d86662d75a","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/26/#testresult/228474d86662d75a","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_text(\"History of Spendings\")","time":{"start":1771352551836,"stop":1771352557898,"duration":6062}}]},"tags":[]},"source":"511f9b271edd0212.json","parameterValues":[]}