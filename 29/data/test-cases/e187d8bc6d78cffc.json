{"uid":"e187d8bc6d78cffc","name":"Отображение сообщения при попытке создать категорию без названия","fullName":"tests.ui_tests.test_profile#test_category_input_error_message_if_try_add_category_without_name","historyId":"9626d0f7273f6f4c1efab724d233116b","time":{"start":1771523380527,"stop":1771523380527,"duration":0},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"[aria-label='Menu']\")","statusTrace":"login_user = None, page = <Page url='http://auth.niffler.dc:9000/login?error'>\n\n    @pytest.fixture\n    def open_profile_page(login_user, page):\n        navbar = NavbarElement(page)\n        header_element = HeaderElement(page)\n>       header_element.click_person_icon()\n\nfixtures/profile.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <components.header_element.HeaderElement object at 0x7f303331f7c0>\n\n    def click_person_icon(self):\n>       self.main_menu_button.click()\n\ncomponents/header_element.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_factory.button.Button object at 0x7f303331cd90>, kwargs = {}\nlocator = <Locator frame=<Frame name= url='http://auth.niffler.dc:9000/login?error'> selector=\"[aria-label='Menu']\">\n\n    def click(self, **kwargs):\n        with allure.step(f'Нажать {self.type_of}  \"{self.name}\"'):\n            locator = self.get_locator(**kwargs)\n>           locator.click()\n\npage_factory/component.py:40: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Locator frame=<Frame name= url='http://auth.niffler.dc:9000/login?error'> selector=\"[aria-label='Menu']\">\n\n    def click(\n        self,\n        *,\n        modifiers: typing.Optional[\n            typing.Sequence[Literal[\"Alt\", \"Control\", \"ControlOrMeta\", \"Meta\", \"Shift\"]]\n        ] = None,\n        position: typing.Optional[Position] = None,\n        delay: typing.Optional[float] = None,\n        button: typing.Optional[Literal[\"left\", \"middle\", \"right\"]] = None,\n        click_count: typing.Optional[int] = None,\n        timeout: typing.Optional[float] = None,\n        force: typing.Optional[bool] = None,\n        no_wait_after: typing.Optional[bool] = None,\n        trial: typing.Optional[bool] = None,\n    ) -> None:\n        \"\"\"Locator.click\n    \n        Click an element.\n    \n        **Details**\n    \n        This method clicks the element by performing the following steps:\n        1. Wait for [actionability](https://playwright.dev/python/docs/actionability) checks on the element, unless `force` option is set.\n        1. Scroll the element into view if needed.\n        1. Use `page.mouse` to click in the center of the element, or the specified `position`.\n        1. Wait for initiated navigations to either succeed or fail, unless `noWaitAfter` option is set.\n    \n        If the element is detached from the DOM at any moment during the action, this method throws.\n    \n        When all steps combined have not finished during the specified `timeout`, this method throws a `TimeoutError`.\n        Passing zero timeout disables this.\n    \n        **Usage**\n    \n        Click a button:\n    \n        ```py\n        page.get_by_role(\\\"button\\\").click()\n        ```\n    \n        Shift-right-click at a specific position on a canvas:\n    \n        ```py\n        page.locator(\\\"canvas\\\").click(\n            button=\\\"right\\\", modifiers=[\\\"Shift\\\"], position={\\\"x\\\": 23, \\\"y\\\": 32}\n        )\n        ```\n    \n        Parameters\n        ----------\n        modifiers : Union[Sequence[Union[\"Alt\", \"Control\", \"ControlOrMeta\", \"Meta\", \"Shift\"]], None]\n            Modifier keys to press. Ensures that only these modifiers are pressed during the operation, and then restores\n            current modifiers back. If not specified, currently pressed modifiers are used. \"ControlOrMeta\" resolves to\n            \"Control\" on Windows and Linux and to \"Meta\" on macOS.\n        position : Union[{x: float, y: float}, None]\n            A point to use relative to the top-left corner of element padding box. If not specified, uses some visible point of\n            the element.\n        delay : Union[float, None]\n            Time to wait between `mousedown` and `mouseup` in milliseconds. Defaults to 0.\n        button : Union[\"left\", \"middle\", \"right\", None]\n            Defaults to `left`.\n        click_count : Union[int, None]\n            defaults to 1. See [UIEvent.detail].\n        timeout : Union[float, None]\n            Maximum time in milliseconds. Defaults to `30000` (30 seconds). Pass `0` to disable timeout. The default value can\n            be changed by using the `browser_context.set_default_timeout()` or `page.set_default_timeout()` methods.\n        force : Union[bool, None]\n            Whether to bypass the [actionability](../actionability.md) checks. Defaults to `false`.\n        no_wait_after : Union[bool, None]\n            Actions that initiate navigations are waiting for these navigations to happen and for pages to start loading. You\n            can opt out of waiting via setting this flag. You would only need this option in the exceptional cases such as\n            navigating to inaccessible pages. Defaults to `false`.\n            Deprecated: This option will default to `true` in the future.\n        trial : Union[bool, None]\n            When set, this method only performs the [actionability](../actionability.md) checks and skips the action. Defaults\n            to `false`. Useful to wait until the element is ready for the action without performing it. Note that keyboard\n            `modifiers` will be pressed regardless of `trial` to allow testing elements which are only visible when those keys\n            are pressed.\n        \"\"\"\n    \n        return mapping.from_maybe_impl(\n>           self._sync(\n                self._impl_obj.click(\n                    modifiers=mapping.to_impl(modifiers),\n                    position=position,\n                    delay=delay,\n                    button=button,\n                    clickCount=click_count,\n                    timeout=timeout,\n                    force=force,\n                    noWaitAfter=no_wait_after,\n                    trial=trial,\n                )\n            )\n        )\n\n.venv/lib/python3.10/site-packages/playwright/sync_api/_generated.py:15573: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Locator frame=<Frame name= url='http://auth.niffler.dc:9000/login?error'> selector=\"[aria-label='Menu']\">\nmodifiers = None, position = None, delay = None, button = None\nclickCount = None, timeout = None, force = None, noWaitAfter = None\ntrial = None\n\n    async def click(\n        self,\n        modifiers: Sequence[KeyboardModifier] = None,\n        position: Position = None,\n        delay: float = None,\n        button: MouseButton = None,\n        clickCount: int = None,\n        timeout: float = None,\n        force: bool = None,\n        noWaitAfter: bool = None,\n        trial: bool = None,\n    ) -> None:\n        params = locals_to_params(locals())\n>       return await self._frame.click(self._selector, strict=True, **params)\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_locator.py:160: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Frame name= url='http://auth.niffler.dc:9000/login?error'>\nselector = \"[aria-label='Menu']\", modifiers = None, position = None\ndelay = None, button = None, clickCount = None, timeout = None, force = None\nnoWaitAfter = None, strict = True, trial = None\n\n    async def click(\n        self,\n        selector: str,\n        modifiers: Sequence[KeyboardModifier] = None,\n        position: Position = None,\n        delay: float = None,\n        button: MouseButton = None,\n        clickCount: int = None,\n        timeout: float = None,\n        force: bool = None,\n        noWaitAfter: bool = None,\n        strict: bool = None,\n        trial: bool = None,\n    ) -> None:\n>       await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_frame.py:549: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Channel object at 0x7f30335bda50>\nmethod = 'click'\ntimeout_calculator = <bound method Frame._timeout of <Frame name= url='http://auth.niffler.dc:9000/login?error'>>\nparams = {'selector': \"[aria-label='Menu']\", 'strict': True, 'timeout': 30000}\nis_internal = False, title = None\n\n    async def send(\n        self,\n        method: str,\n        timeout_calculator: TimeoutCalculator,\n        params: Dict = None,\n        is_internal: bool = False,\n        title: str = None,\n    ) -> Any:\n>       return await self._connection.wrap_api_call(\n            lambda: self._inner_send(method, timeout_calculator, params, False),\n            is_internal,\n            title,\n        )\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py:69: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7f30328e65f0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7f3030503640>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\"[aria-label='Menu']\")\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py:559: TimeoutError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Base Url","time":{"start":1771523333002,"stop":1771523333002,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Delete Output Dir","time":{"start":1771523333003,"stop":1771523333003,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1771523333003,"stop":1771523333003,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Pytestconfig","time":{"start":1771523333003,"stop":1771523333003,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771523333003,"stop":1771523333006,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"990c05139d73444b","name":"envs.json","source":"990c05139d73444b.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S] Authority Db","time":{"start":1771523333006,"stop":1771523333203,"duration":197},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771523333203,"stop":1771523333203,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771523333204,"stop":1771523333226,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Browser","time":{"start":1771523380527,"stop":1771523380862,"duration":335},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Page","time":{"start":1771523380863,"stop":1771523380984,"duration":121},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Login User","time":{"start":1771523380984,"stop":1771523381416,"duration":432},"status":"passed","steps":[{"name":"Ввести в input \"Username\" значение \"Alex\"","time":{"start":1771523381043,"stop":1771523381193,"duration":150},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ввести в input \"Password\" значение \"SonyXperia\"","time":{"start":1771523381194,"stop":1771523381200,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать button  \"Log in\"","time":{"start":1771523381200,"stop":1771523381389,"duration":189},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"[F] Login Page","time":{"start":1771523380984,"stop":1771523380984,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Open Profile Page","time":{"start":1771523381416,"stop":1771523411420,"duration":30004},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"[aria-label='Menu']\")\n\n","statusTrace":"  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1202, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 915, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/fixtures/profile.py\", line 17, in open_profile_page\n    header_element.click_person_icon()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/components/header_element.py\", line 16, in click_person_icon\n    self.main_menu_button.click()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/page_factory/component.py\", line 40, in click\n    locator.click()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 15573, in click\n    self._sync(\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_locator.py\", line 160, in click\n    return await self._frame.click(self._selector, strict=True, **params)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_frame.py\", line 549, in click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 559, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Нажать button  \"MainMenu\"","time":{"start":1771523381416,"stop":1771523411419,"duration":30003},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"[aria-label='Menu']\")\n\n","statusTrace":"  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/page_factory/component.py\", line 40, in click\n    locator.click()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 15573, in click\n    self._sync(\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_locator.py\", line 160, in click\n    return await self._frame.click(self._selector, strict=True, **params)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_frame.py\", line 549, in click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 559, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"browser::teardown","time":{"start":1771523411636,"stop":1771523411668,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Страница Профиль"},{"name":"host","value":"runnervmieams"},{"name":"thread","value":"8682-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui_tests.test_profile"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":2,"unknown":0,"total":4},"items":[{"uid":"fc131545c6886b44","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/28/#testresult/fc131545c6886b44","status":"passed","time":{"start":1771442829902,"stop":1771442829943,"duration":41}},{"uid":"c176d7f86becbf65","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/27/#testresult/c176d7f86becbf65","status":"passed","time":{"start":1771441737253,"stop":1771441737295,"duration":42}},{"uid":"46aa2bd50d733e6e","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/26/#testresult/46aa2bd50d733e6e","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"[aria-label='Menu']\")","time":{"start":1771352596417,"stop":1771352596417,"duration":0}}]},"tags":[]},"source":"e187d8bc6d78cffc.json","parameterValues":[]}