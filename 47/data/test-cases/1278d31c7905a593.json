{"uid":"1278d31c7905a593","name":"Редактирование траты","fullName":"tests.api_tests.test_spendings_api#test_edit_spend","historyId":"07c21dc77d8ab42c5d0747a6415e3d6b","time":{"start":1771693619876,"stop":1771693619903,"duration":27},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Base Url","time":{"start":1771693617300,"stop":1771693617301,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Pytestconfig","time":{"start":1771693617301,"stop":1771693617301,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771693617301,"stop":1771693617303,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"b0025f4d5391d160","name":"envs.json","source":"b0025f4d5391d160.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S] Delete Output Dir","time":{"start":1771693617301,"stop":1771693617301,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1771693617301,"stop":1771693617301,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] User Db","time":{"start":1771693617303,"stop":1771693617402,"duration":99},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771693617403,"stop":1771693617403,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771693617403,"stop":1771693618064,"duration":661},"status":"passed","steps":[{"name":"GET /register","time":{"start":1771693617428,"stop":1771693617758,"duration":330},"status":"passed","steps":[],"attachments":[{"uid":"475b0087088238be","name":"Request","source":"475b0087088238be.html","type":"text/html","size":2053},{"uid":"13f7960f74568190","name":"e6c13425-e57e-4261-9176-cbdb5a9ae72d-attachment.txt","source":"13f7960f74568190.txt","type":"text/plain","size":3731}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /register","time":{"start":1771693617765,"stop":1771693618064,"duration":299},"status":"passed","steps":[],"attachments":[{"uid":"2dd50660db52313e","name":"Request","source":"2dd50660db52313e.html","type":"text/html","size":2710},{"uid":"dca4352e30c21c18","name":"68361451-4997-4fbb-a71a-1a4142204487-attachment.txt","source":"dca4352e30c21c18.txt","type":"text/plain","size":2279}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1684e5f303cee207","name":"select niffler-userdata","source":"1684e5f303cee207.txt","type":"text/plain","size":27},{"uid":"8fa12d595000611b","name":"select niffler-userdata","source":"8fa12d595000611b.txt","type":"text/plain","size":23},{"uid":"e9a166af643d0130","name":"show niffler-userdata","source":"e9a166af643d0130.txt","type":"text/plain","size":32},{"uid":"aed92087aa5e4763","name":"SELECT niffler-userdata","source":"aed92087aa5e4763.txt","type":"text/plain","size":161}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},{"name":"[S] Category Db","time":{"start":1771693618065,"stop":1771693618065,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Token","time":{"start":1771693618066,"stop":1771693618678,"duration":612},"status":"passed","steps":[{"name":"GET /oauth2/authorize","time":{"start":1771693618072,"stop":1771693618231,"duration":159},"status":"passed","steps":[],"attachments":[{"uid":"87cb83c5ba376811","name":"Request","source":"87cb83c5ba376811.html","type":"text/html","size":2119},{"uid":"d657618eebbe2d13","name":"1342b6d5-ad42-4a80-a240-00db2a90eda8-attachment.txt","source":"d657618eebbe2d13.txt","type":"text/plain","size":2897}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /login","time":{"start":1771693618241,"stop":1771693618582,"duration":341},"status":"passed","steps":[],"attachments":[{"uid":"8269de6ca4546d78","name":"Request","source":"8269de6ca4546d78.html","type":"text/html","size":2397},{"uid":"a050f69bb68cdfd8","name":"e63dfa2d-02a4-4ff7-bbbb-0c634d9819ca-attachment.txt","source":"a050f69bb68cdfd8.txt","type":"text/plain","size":417}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /oauth2/token","time":{"start":1771693618589,"stop":1771693618678,"duration":89},"status":"passed","steps":[],"attachments":[{"uid":"bdc49c1e7409a0c7","name":"Request","source":"bdc49c1e7409a0c7.html","type":"text/html","size":3376},{"uid":"51402cf822d6b487","name":"Response json 200","source":"51402cf822d6b487.json","type":"application/json","size":1521}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"[S] Spend Db","time":{"start":1771693619370,"stop":1771693619370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spends Client","time":{"start":1771693619850,"stop":1771693619851,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spend Data For Edit","time":{"start":1771693619851,"stop":1771693619851,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Currency","time":{"start":1771693619851,"stop":1771693619851,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Add Spend","time":{"start":1771693619851,"stop":1771693619875,"duration":24},"status":"passed","steps":[{"name":"Отправить запрос на создание траты","time":{"start":1771693619851,"stop":1771693619875,"duration":24},"status":"passed","steps":[{"name":"POST /api/spends/add","time":{"start":1771693619855,"stop":1771693619874,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"58167a42323f05ab","name":"Request","source":"58167a42323f05ab.html","type":"text/html","size":4205},{"uid":"118a5296fed8a115","name":"Response json 201","source":"118a5296fed8a115.json","type":"application/json","size":398}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"spend","value":"{'amount': 1280.33, 'description': 'He looked inquisitively at his keyboard ', 'category': CategoryAdd(name='nationwide', username=None, archived=None), 'spendDate': '2026-02-20T17:06:59.850889', 'currency': 'RUB'}"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"[F] Spend Data For Add","time":{"start":1771693619851,"stop":1771693619851,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Delete Category With Spendings","time":{"start":1771693619851,"stop":1771693619851,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Delete Category With Edited Spendings","time":{"start":1771693619875,"stop":1771693619875,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Отправить запрос на редактирование траты","time":{"start":1771693619876,"stop":1771693619903,"duration":27},"status":"passed","steps":[{"name":"PATCH /api/spends/edit","time":{"start":1771693619880,"stop":1771693619902,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"39b8d86ba9c8f669","name":"Request","source":"39b8d86ba9c8f669.html","type":"text/html","size":4291},{"uid":"ad55591a3cc35780","name":"Response json 200","source":"ad55591a3cc35780.json","type":"application/json","size":393}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"edit_spend","value":"{'id': 'a9f9fd9e-0519-4b49-9bd0-3df8883a45e1', 'amount': 526.81, 'description': 'Haskell is a standardized, general-purpo', 'category': CategoryAdd(name='branch', username=None, archived=None), 'spendDate': '2026-02-20T17:06:59.850689', 'currency': 'RUB'}"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Сравнить 526.81 и 526.81","time":{"start":1771693619903,"stop":1771693619903,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить Haskell is a standardized, general-purpo и Haskell is a standardized, general-purpo","time":{"start":1771693619903,"stop":1771693619903,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить 2026-02-20 и 2026-02-20","time":{"start":1771693619903,"stop":1771693619903,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить RUB и RUB","time":{"start":1771693619903,"stop":1771693619903,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить branch и branch","time":{"start":1771693619903,"stop":1771693619903,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"delete_category_with_edited_spendings::teardown","time":{"start":1771693619903,"stop":1771693619953,"duration":50},"status":"passed","steps":[{"name":"Отправить запрос на получение списка трат","time":{"start":1771693619903,"stop":1771693619922,"duration":19},"status":"passed","steps":[{"name":"GET /api/spends/all","time":{"start":1771693619907,"stop":1771693619922,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"e09b7e836402c390","name":"Request","source":"e09b7e836402c390.html","type":"text/html","size":3575},{"uid":"ed7c3a04d6db20ca","name":"Response json 200","source":"ed7c3a04d6db20ca.json","type":"application/json","size":453}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Отправить запрос на удаление траты","time":{"start":1771693619922,"stop":1771693619946,"duration":24},"status":"passed","steps":[{"name":"DELETE /api/spends/remove","time":{"start":1771693619926,"stop":1771693619946,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"ab9f768a8808b178","name":"Request","source":"ab9f768a8808b178.html","type":"text/html","size":3789},{"uid":"481516796693c3f2","name":"dc929a62-5172-4e2d-a4bb-eb4a148d719c-attachment.txt","source":"481516796693c3f2.txt","type":"text/plain","size":0}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"ids","value":"['a9f9fd9e-0519-4b49-9bd0-3df8883a45e1']"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"4f3817123e3ae145","name":"SELECT niffler-spend","source":"4f3817123e3ae145.txt","type":"text/plain","size":145},{"uid":"110ddbd3b5be51a3","name":"SELECT niffler-spend","source":"110ddbd3b5be51a3.txt","type":"text/plain","size":218},{"uid":"850e7ff9e7aebb05","name":"DELETE niffler-spend","source":"850e7ff9e7aebb05.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"delete_category_with_spendings::teardown","time":{"start":1771693619954,"stop":1771693619984,"duration":30},"status":"passed","steps":[{"name":"Отправить запрос на получение списка трат","time":{"start":1771693619954,"stop":1771693619980,"duration":26},"status":"passed","steps":[{"name":"GET /api/spends/all","time":{"start":1771693619960,"stop":1771693619980,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"3cee9eed8c9108df","name":"Request","source":"3cee9eed8c9108df.html","type":"text/html","size":3575},{"uid":"9b06c5c0c400cefc","name":"Response json 200","source":"9b06c5c0c400cefc.json","type":"application/json","size":2}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6296be3351e88b71","name":"SELECT niffler-spend","source":"6296be3351e88b71.txt","type":"text/plain","size":149},{"uid":"720429789b81e9d1","name":"SELECT niffler-spend","source":"720429789b81e9d1.txt","type":"text/plain","size":218},{"uid":"ff4fa497c94a58a2","name":"DELETE niffler-spend","source":"ff4fa497c94a58a2.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"feature","value":"Траты"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"9799-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api_tests.test_spendings_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":7,"unknown":0,"total":8},"items":[{"uid":"3221992cc6b89f39","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/46/#testresult/3221992cc6b89f39","status":"passed","time":{"start":1771691130111,"stop":1771691130152,"duration":41}},{"uid":"6f5f64de3c90e51b","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/45/#testresult/6f5f64de3c90e51b","status":"passed","time":{"start":1771689674656,"stop":1771689674685,"duration":29}},{"uid":"1770c524f2aee30b","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/44/#testresult/1770c524f2aee30b","status":"broken","statusDetails":"sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"user\" does not exist\nLINE 2: FROM \"user\" \n             ^\n\n[SQL: SELECT \"user\".id, \"user\".username, \"user\".currency, \"user\".firstname, \"user\".surname, \"user\".photo, \"user\".photo_small \nFROM \"user\" \nWHERE \"user\".username = %(username_1)s]\n[parameters: {'username_1': 'Alex'}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","time":{"start":1771689215657,"stop":1771689215657,"duration":0}},{"uid":"205866cf175b684e","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/43/#testresult/205866cf175b684e","status":"passed","time":{"start":1771688279534,"stop":1771688279564,"duration":30}},{"uid":"f8eecf8c66e6d53d","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/42/#testresult/f8eecf8c66e6d53d","status":"passed","time":{"start":1771614434513,"stop":1771614434542,"duration":29}},{"uid":"8f9190570f1ed102","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/41/#testresult/8f9190570f1ed102","status":"passed","time":{"start":1771613432998,"stop":1771613433028,"duration":30}},{"uid":"e7b2e41ea11e95a5","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/40/#testresult/e7b2e41ea11e95a5","status":"passed","time":{"start":1771612795615,"stop":1771612795641,"duration":26}}]},"tags":[]},"source":"1278d31c7905a593.json","parameterValues":[]}