{"uid":"39335cf51dc9f535","name":"Редактирование траты","fullName":"tests.api_tests.test_spendings_api#test_edit_spend","historyId":"07c21dc77d8ab42c5d0747a6415e3d6b","time":{"start":1771695166133,"stop":1771695166161,"duration":28},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Delete Output Dir","time":{"start":1771695163578,"stop":1771695163578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Pytestconfig","time":{"start":1771695163578,"stop":1771695163578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771695163578,"stop":1771695163580,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"514b356e67d39e0d","name":"envs.json","source":"514b356e67d39e0d.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1771695163578,"stop":1771695163578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Base Url","time":{"start":1771695163578,"stop":1771695163578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] User Db","time":{"start":1771695163580,"stop":1771695163700,"duration":120},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771695163700,"stop":1771695163701,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771695163701,"stop":1771695164270,"duration":569},"status":"passed","steps":[{"name":"GET /register","time":{"start":1771695163727,"stop":1771695163988,"duration":261},"status":"passed","steps":[],"attachments":[{"uid":"ed86450cea4e0544","name":"Request","source":"ed86450cea4e0544.html","type":"text/html","size":2053},{"uid":"6c5d61e2ab474b37","name":"cf22348f-db23-4d9a-9fc1-f0925dd26b6e-attachment.txt","source":"6c5d61e2ab474b37.txt","type":"text/plain","size":3731}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /register","time":{"start":1771695163993,"stop":1771695164270,"duration":277},"status":"passed","steps":[],"attachments":[{"uid":"7514ffd7d6ca2164","name":"Request","source":"7514ffd7d6ca2164.html","type":"text/html","size":2710},{"uid":"d74060ddf2e64db5","name":"15d52c74-a9c2-442e-af6a-d002176986ae-attachment.txt","source":"d74060ddf2e64db5.txt","type":"text/plain","size":2279}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"9ae4c4b8a59485f6","name":"select niffler-userdata","source":"9ae4c4b8a59485f6.txt","type":"text/plain","size":27},{"uid":"fbd6ecb1ed6e25ca","name":"select niffler-userdata","source":"fbd6ecb1ed6e25ca.txt","type":"text/plain","size":23},{"uid":"557ec6169bd5e8b7","name":"show niffler-userdata","source":"557ec6169bd5e8b7.txt","type":"text/plain","size":32},{"uid":"e787501348b807c0","name":"SELECT niffler-userdata","source":"e787501348b807c0.txt","type":"text/plain","size":161}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},{"name":"[S] Category Db","time":{"start":1771695164270,"stop":1771695164271,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Token","time":{"start":1771695164271,"stop":1771695164884,"duration":613},"status":"passed","steps":[{"name":"GET /oauth2/authorize","time":{"start":1771695164284,"stop":1771695164494,"duration":210},"status":"passed","steps":[],"attachments":[{"uid":"f7e5a4fd27fbe9be","name":"Request","source":"f7e5a4fd27fbe9be.html","type":"text/html","size":2119},{"uid":"4229dc0a63aaf50e","name":"0c5c45ff-8937-4dfb-a6e3-c82a54e25b76-attachment.txt","source":"4229dc0a63aaf50e.txt","type":"text/plain","size":2897}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /login","time":{"start":1771695164499,"stop":1771695164792,"duration":293},"status":"passed","steps":[],"attachments":[{"uid":"2f0f9e569abc51e2","name":"Request","source":"2f0f9e569abc51e2.html","type":"text/html","size":2397},{"uid":"25d676ec47d0e298","name":"c69cb73d-784c-4eda-9070-705ea634a0c6-attachment.txt","source":"25d676ec47d0e298.txt","type":"text/plain","size":417}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /oauth2/token","time":{"start":1771695164796,"stop":1771695164884,"duration":88},"status":"passed","steps":[],"attachments":[{"uid":"f98588366874bf49","name":"Request","source":"f98588366874bf49.html","type":"text/html","size":3376},{"uid":"38ef0df61de62a56","name":"Response json 200","source":"38ef0df61de62a56.json","type":"application/json","size":1521}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"[S] Spend Db","time":{"start":1771695165596,"stop":1771695165597,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Delete Category With Spendings","time":{"start":1771695166106,"stop":1771695166106,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Currency","time":{"start":1771695166106,"stop":1771695166106,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spend Data For Edit","time":{"start":1771695166106,"stop":1771695166106,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spends Client","time":{"start":1771695166106,"stop":1771695166106,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spend Data For Add","time":{"start":1771695166106,"stop":1771695166106,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Add Spend","time":{"start":1771695166106,"stop":1771695166132,"duration":26},"status":"passed","steps":[{"name":"Отправить запрос на создание траты","time":{"start":1771695166106,"stop":1771695166132,"duration":26},"status":"passed","steps":[{"name":"POST /api/spends/add","time":{"start":1771695166111,"stop":1771695166132,"duration":21},"status":"passed","steps":[],"attachments":[{"uid":"7aceb48f8111f224","name":"Request","source":"7aceb48f8111f224.html","type":"text/html","size":4191},{"uid":"4a14bef155f07c0e","name":"Response json 201","source":"4a14bef155f07c0e.json","type":"application/json","size":391}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"spend","value":"{'amount': 1116.67, 'description': 'Type classes first appeared in the Haske', 'category': CategoryAdd(name='way', username=None, archived=None), 'spendDate': '2026-02-20T17:32:46.106096', 'currency': 'RUB'}"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"[F] Delete Category With Edited Spendings","time":{"start":1771695166132,"stop":1771695166133,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Отправить запрос на редактирование траты","time":{"start":1771695166133,"stop":1771695166161,"duration":28},"status":"passed","steps":[{"name":"PATCH /api/spends/edit","time":{"start":1771695166138,"stop":1771695166161,"duration":23},"status":"passed","steps":[],"attachments":[{"uid":"66e6d9d7c5d58f96","name":"Request","source":"66e6d9d7c5d58f96.html","type":"text/html","size":4293},{"uid":"2ec306fadbb0c763","name":"Response json 200","source":"2ec306fadbb0c763.json","type":"application/json","size":394}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"edit_spend","value":"{'id': '8a2ac153-6991-44f7-aa59-9c3243345e93', 'amount': 1473.17, 'description': 'Atoms are used within a program to denot', 'category': CategoryAdd(name='scenes', username=None, archived=None), 'spendDate': '2026-02-20T17:32:46.105854', 'currency': 'EUR'}"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Сравнить 1473.17 и 1473.17","time":{"start":1771695166161,"stop":1771695166161,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить Atoms are used within a program to denot и Atoms are used within a program to denot","time":{"start":1771695166161,"stop":1771695166161,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить 2026-02-20 и 2026-02-20","time":{"start":1771695166161,"stop":1771695166161,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить EUR и EUR","time":{"start":1771695166161,"stop":1771695166161,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить scenes и scenes","time":{"start":1771695166161,"stop":1771695166161,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"delete_category_with_edited_spendings::teardown","time":{"start":1771695166162,"stop":1771695166206,"duration":44},"status":"passed","steps":[{"name":"Отправить запрос на получение списка трат","time":{"start":1771695166162,"stop":1771695166182,"duration":20},"status":"passed","steps":[{"name":"GET /api/spends/all","time":{"start":1771695166166,"stop":1771695166181,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"b176a160ae480787","name":"Request","source":"b176a160ae480787.html","type":"text/html","size":3575},{"uid":"e47063be2cc7c4eb","name":"Response json 200","source":"e47063be2cc7c4eb.json","type":"application/json","size":454}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Отправить запрос на удаление траты","time":{"start":1771695166182,"stop":1771695166201,"duration":19},"status":"passed","steps":[{"name":"DELETE /api/spends/remove","time":{"start":1771695166186,"stop":1771695166201,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"11a8df865e6b85bd","name":"Request","source":"11a8df865e6b85bd.html","type":"text/html","size":3789},{"uid":"527afb100692ab34","name":"cc8c9b0d-926c-4f83-a810-0804e19f7a9b-attachment.txt","source":"527afb100692ab34.txt","type":"text/plain","size":0}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"ids","value":"['8a2ac153-6991-44f7-aa59-9c3243345e93']"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8c47b3277bc5db9a","name":"SELECT niffler-spend","source":"8c47b3277bc5db9a.txt","type":"text/plain","size":145},{"uid":"b33c46219d3221bd","name":"SELECT niffler-spend","source":"b33c46219d3221bd.txt","type":"text/plain","size":218},{"uid":"cb76e025139afb22","name":"DELETE niffler-spend","source":"cb76e025139afb22.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"delete_category_with_spendings::teardown","time":{"start":1771695166207,"stop":1771695166232,"duration":25},"status":"passed","steps":[{"name":"Отправить запрос на получение списка трат","time":{"start":1771695166207,"stop":1771695166228,"duration":21},"status":"passed","steps":[{"name":"GET /api/spends/all","time":{"start":1771695166211,"stop":1771695166228,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"67ab89707a45de6d","name":"Request","source":"67ab89707a45de6d.html","type":"text/html","size":3575},{"uid":"d0ef06c4dfa2b3cf","name":"Response json 200","source":"d0ef06c4dfa2b3cf.json","type":"application/json","size":2}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e759d599842c58c8","name":"SELECT niffler-spend","source":"e759d599842c58c8.txt","type":"text/plain","size":142},{"uid":"55ccdb053185340c","name":"SELECT niffler-spend","source":"55ccdb053185340c.txt","type":"text/plain","size":218},{"uid":"c08d4ac681011d13","name":"DELETE niffler-spend","source":"c08d4ac681011d13.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"feature","value":"Траты"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"9935-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api_tests.test_spendings_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":8,"unknown":0,"total":9},"items":[{"uid":"1278d31c7905a593","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/47/#testresult/1278d31c7905a593","status":"passed","time":{"start":1771693619876,"stop":1771693619903,"duration":27}},{"uid":"3221992cc6b89f39","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/46/#testresult/3221992cc6b89f39","status":"passed","time":{"start":1771691130111,"stop":1771691130152,"duration":41}},{"uid":"6f5f64de3c90e51b","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/45/#testresult/6f5f64de3c90e51b","status":"passed","time":{"start":1771689674656,"stop":1771689674685,"duration":29}},{"uid":"1770c524f2aee30b","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/44/#testresult/1770c524f2aee30b","status":"broken","statusDetails":"sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"user\" does not exist\nLINE 2: FROM \"user\" \n             ^\n\n[SQL: SELECT \"user\".id, \"user\".username, \"user\".currency, \"user\".firstname, \"user\".surname, \"user\".photo, \"user\".photo_small \nFROM \"user\" \nWHERE \"user\".username = %(username_1)s]\n[parameters: {'username_1': 'Alex'}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","time":{"start":1771689215657,"stop":1771689215657,"duration":0}},{"uid":"205866cf175b684e","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/43/#testresult/205866cf175b684e","status":"passed","time":{"start":1771688279534,"stop":1771688279564,"duration":30}},{"uid":"f8eecf8c66e6d53d","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/42/#testresult/f8eecf8c66e6d53d","status":"passed","time":{"start":1771614434513,"stop":1771614434542,"duration":29}},{"uid":"8f9190570f1ed102","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/41/#testresult/8f9190570f1ed102","status":"passed","time":{"start":1771613432998,"stop":1771613433028,"duration":30}},{"uid":"e7b2e41ea11e95a5","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/40/#testresult/e7b2e41ea11e95a5","status":"passed","time":{"start":1771612795615,"stop":1771612795641,"duration":26}}]},"tags":[]},"source":"39335cf51dc9f535.json","parameterValues":[]}