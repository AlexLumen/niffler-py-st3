{"uid":"b302cc536a4277ef","name":"Создание Траты","fullName":"tests.api_tests.test_spendings_api#test_add_spend","historyId":"098d960f521142455338d4e8ec19d68d","time":{"start":1771530147454,"stop":1771530148924,"duration":1470},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S]  Verify Url","time":{"start":1771530140360,"stop":1771530140360,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Base Url","time":{"start":1771530140360,"stop":1771530140360,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Pytestconfig","time":{"start":1771530140361,"stop":1771530140361,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771530140361,"stop":1771530140364,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"e48d7a07b5f489cc","name":"envs.json","source":"e48d7a07b5f489cc.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S] Delete Output Dir","time":{"start":1771530140361,"stop":1771530140361,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Authority Db","time":{"start":1771530140364,"stop":1771530140530,"duration":166},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771530140531,"stop":1771530140531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771530140531,"stop":1771530142087,"duration":1556},"status":"passed","steps":[{"name":"GET /register","time":{"start":1771530140568,"stop":1771530141473,"duration":905},"status":"passed","steps":[],"attachments":[{"uid":"fe45d68aa6337578","name":"Request","source":"fe45d68aa6337578.html","type":"text/html","size":2053},{"uid":"1254c4ef8b92aed8","name":"6430784e-53b4-4415-bdef-c8c038702589-attachment.txt","source":"1254c4ef8b92aed8.txt","type":"text/plain","size":3731}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /register","time":{"start":1771530141484,"stop":1771530142087,"duration":603},"status":"passed","steps":[],"attachments":[{"uid":"6b9a1e983b368777","name":"Request","source":"6b9a1e983b368777.html","type":"text/html","size":2710},{"uid":"1f1e1465afe7fc5b","name":"d176d39d-0f18-43f4-97c2-a0a711bd7ca0-attachment.txt","source":"1f1e1465afe7fc5b.txt","type":"text/plain","size":2279}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"[S] Category Db","time":{"start":1771530142087,"stop":1771530142088,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Token","time":{"start":1771530142088,"stop":1771530143483,"duration":1395},"status":"passed","steps":[{"name":"GET /oauth2/authorize","time":{"start":1771530142096,"stop":1771530142294,"duration":198},"status":"passed","steps":[],"attachments":[{"uid":"8626ae13a57256d8","name":"Request","source":"8626ae13a57256d8.html","type":"text/html","size":2119},{"uid":"d2a66f3b71c5fc9d","name":"10704877-cdee-47f4-9004-81ff6ca2ef32-attachment.txt","source":"d2a66f3b71c5fc9d.txt","type":"text/plain","size":2897}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /login","time":{"start":1771530142302,"stop":1771530143199,"duration":897},"status":"passed","steps":[],"attachments":[{"uid":"c9a9538f32f77601","name":"Request","source":"c9a9538f32f77601.html","type":"text/html","size":2397},{"uid":"59ecebcff08a3b9e","name":"7c986f2e-a344-499a-a02e-c93ccb577aa4-attachment.txt","source":"59ecebcff08a3b9e.txt","type":"text/plain","size":417}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /oauth2/token","time":{"start":1771530143207,"stop":1771530143483,"duration":276},"status":"passed","steps":[],"attachments":[{"uid":"933bdee83ee731c7","name":"Request","source":"933bdee83ee731c7.html","type":"text/html","size":3376},{"uid":"520549d71c3eeab5","name":"Response json 200","source":"520549d71c3eeab5.json","type":"application/json","size":1521}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"[S] Spend Db","time":{"start":1771530145352,"stop":1771530145353,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spends Client","time":{"start":1771530147452,"stop":1771530147453,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Delete Category With Spendings","time":{"start":1771530147453,"stop":1771530147453,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spend Data For Add","time":{"start":1771530147453,"stop":1771530147453,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Currency","time":{"start":1771530149160,"stop":1771530149160,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Отправить запрос на создание траты","time":{"start":1771530147454,"stop":1771530148923,"duration":1469},"status":"passed","steps":[{"name":"POST /api/spends/add","time":{"start":1771530147461,"stop":1771530148923,"duration":1462},"status":"passed","steps":[],"attachments":[{"uid":"88d80e632266c82c","name":"Request","source":"88d80e632266c82c.html","type":"text/html","size":4209},{"uid":"550a659f95fcc0d","name":"Response json 201","source":"550a659f95fcc0d.json","type":"application/json","size":400}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"spend","value":"{'amount': 1494.58, 'description': 'Erlang is known for its designs that are', 'category': CategoryAdd(name='transmission', username=None, archived=None), 'spendDate': '2026-02-18T19:42:27.452729', 'currency': 'USD'}"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Сравнить 1494.58 и 1494.58","time":{"start":1771530148923,"stop":1771530148923,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить Erlang is known for its designs that are и Erlang is known for its designs that are","time":{"start":1771530148923,"stop":1771530148923,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить 2026-02-18 и 2026-02-18","time":{"start":1771530148923,"stop":1771530148923,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить USD и USD","time":{"start":1771530148923,"stop":1771530148923,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить transmission и transmission","time":{"start":1771530148923,"stop":1771530148923,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"delete_category_with_spendings::teardown","time":{"start":1771530148924,"stop":1771530149155,"duration":231},"status":"passed","steps":[{"name":"Отправить запрос на получение списка трат","time":{"start":1771530148924,"stop":1771530149075,"duration":151},"status":"passed","steps":[{"name":"GET /api/spends/all","time":{"start":1771530148933,"stop":1771530149075,"duration":142},"status":"passed","steps":[],"attachments":[{"uid":"6c2bc21f614dc867","name":"Request","source":"6c2bc21f614dc867.html","type":"text/html","size":3575},{"uid":"a8c1c90af137593e","name":"Response json 200","source":"a8c1c90af137593e.json","type":"application/json","size":460}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Отправить запрос на удаление траты","time":{"start":1771530149075,"stop":1771530149145,"duration":70},"status":"passed","steps":[{"name":"DELETE /api/spends/remove","time":{"start":1771530149083,"stop":1771530149145,"duration":62},"status":"passed","steps":[],"attachments":[{"uid":"f21e9f19e84e8448","name":"Request","source":"f21e9f19e84e8448.html","type":"text/html","size":3789},{"uid":"5b71d42c148af1a0","name":"b43703b3-c24b-465f-ae4a-47e948336deb-attachment.txt","source":"5b71d42c148af1a0.txt","type":"text/plain","size":0}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"ids","value":"['df429d90-74bf-4f5c-88c3-550a955bb367']"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"bbf47b5710fcf7db","name":"SELECT niffler-spend","source":"bbf47b5710fcf7db.txt","type":"text/plain","size":151},{"uid":"2a5f10539b64bd24","name":"SELECT niffler-spend","source":"2a5f10539b64bd24.txt","type":"text/plain","size":218},{"uid":"78257fa4c381ec5b","name":"DELETE niffler-spend","source":"78257fa4c381ec5b.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":7,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"feature","value":"Траты"},{"name":"host","value":"runnervmieams"},{"name":"thread","value":"8617-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api_tests.test_spendings_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"currency","value":"'USD'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":5,"skipped":0,"passed":3,"unknown":0,"total":8},"items":[{"uid":"9d22fe8cf796bcc7","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/32/#testresult/9d22fe8cf796bcc7","status":"passed","time":{"start":1771528577817,"stop":1771528577858,"duration":41}},{"uid":"3ff77b7bfa9d99f7","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/31/#testresult/3ff77b7bfa9d99f7","status":"passed","time":{"start":1771526338161,"stop":1771526338206,"duration":45}},{"uid":"a79680c745a6eef4","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/30/#testresult/a79680c745a6eef4","status":"broken","statusDetails":"requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)","time":{"start":1771524784701,"stop":1771524784701,"duration":0}},{"uid":"ce32574232c0574c","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/29/#testresult/ce32574232c0574c","status":"broken","statusDetails":"requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)","time":{"start":1771523336281,"stop":1771523336281,"duration":0}},{"uid":"28b954cf64715d6c","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/28/#testresult/28b954cf64715d6c","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='gateway.niffler.dc', port=8090): Max retries exceeded with url: /api/spends/add (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f2f2bf88c40>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1771442805906,"stop":1771442805918,"duration":12}},{"uid":"a4ddd3cf4b882501","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/27/#testresult/a4ddd3cf4b882501","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='gateway.niffler.dc', port=8090): Max retries exceeded with url: /api/spends/add (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5c6e94a7a0>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1771441714620,"stop":1771441714629,"duration":9}},{"uid":"be520e89a22d05ac","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/26/#testresult/be520e89a22d05ac","status":"broken","statusDetails":"requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)","time":{"start":1771352547132,"stop":1771352547132,"duration":0}}]},"tags":[]},"source":"b302cc536a4277ef.json","parameterValues":["'USD'"]}