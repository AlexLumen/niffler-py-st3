{"uid":"7f005e05c3c55bf6","name":"Редактирование категории","fullName":"tests.ui_tests.test_profile#test_archive_category","historyId":"41c74135c5a06f0add260605990da48d","time":{"start":1771689697307,"stop":1771689729081,"duration":31774},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span\")\n    - locator resolved to <span class=\"MuiTouchRipple-root css-w0pj6f\">…</span>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is not stable\n    - retrying click action\n    - waiting 20ms\n    - waiting for element to be visible, enabled and stable\n    - element is not stable\n  2 × retrying click action\n      - waiting 100ms\n      - waiting for element to be visible, enabled and stable\n      - element is not visible\n  57 × retrying click action\n       - waiting 500ms\n       - waiting for element to be visible, enabled and stable\n       - element is not visible\n  - retrying click action\n    - waiting 500ms","statusTrace":"page = <Page url='http://frontend.niffler.dc/profile'>\nprofile_page = <pages.profile_page.ProfilePage object at 0x7f8c0f092b30>\nnavbar_element = <components.navbar_element.NavbarElement object at 0x7f8c0ec1c7f0>\narchive_category_alert = <components.archive_category_alert_element.ArchiveCategoryAlertElement object at 0x7f8c0ec1d180>\nheader_element = <components.header_element.HeaderElement object at 0x7f8c0ec1d540>\n\n    @allure.feature(\"Страница Профиль\")\n    @allure.title(\"Редактирование категории\")\n    @pytest.mark.usefixtures(\"login_user\", \"create_category\")\n    def test_archive_category(page, profile_page, navbar_element, archive_category_alert, header_element):\n        header_element.click_person_icon()\n        navbar_element.click_profile_link()\n        profile_page.click_archive_category_button()\n>       archive_category_alert.click_archive_button()\n\ntests/ui_tests/test_profile.py:41: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <components.archive_category_alert_element.ArchiveCategoryAlertElement object at 0x7f8c0ec1d180>\n\n    def click_archive_button(self):\n        self.archive_button.should_be_visible()\n        self.archive_button.click()\n>       self.archive_button.click()\n\ncomponents/archive_category_alert_element.py:12: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_factory.button.Button object at 0x7f8c0ec1fbe0>, kwargs = {}\nlocator = <Locator frame=<Frame name= url='http://frontend.niffler.dc/profile'> selector='.MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span'>\n\n    def click(self, **kwargs):\n        with allure.step(f'Нажать {self.type_of}  \"{self.name}\"'):\n            locator = self.get_locator(**kwargs)\n>           locator.click()\n\npage_factory/component.py:40: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Locator frame=<Frame name= url='http://frontend.niffler.dc/profile'> selector='.MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span'>\n\n    def click(\n        self,\n        *,\n        modifiers: typing.Optional[\n            typing.Sequence[Literal[\"Alt\", \"Control\", \"ControlOrMeta\", \"Meta\", \"Shift\"]]\n        ] = None,\n        position: typing.Optional[Position] = None,\n        delay: typing.Optional[float] = None,\n        button: typing.Optional[Literal[\"left\", \"middle\", \"right\"]] = None,\n        click_count: typing.Optional[int] = None,\n        timeout: typing.Optional[float] = None,\n        force: typing.Optional[bool] = None,\n        no_wait_after: typing.Optional[bool] = None,\n        trial: typing.Optional[bool] = None,\n    ) -> None:\n        \"\"\"Locator.click\n    \n        Click an element.\n    \n        **Details**\n    \n        This method clicks the element by performing the following steps:\n        1. Wait for [actionability](https://playwright.dev/python/docs/actionability) checks on the element, unless `force` option is set.\n        1. Scroll the element into view if needed.\n        1. Use `page.mouse` to click in the center of the element, or the specified `position`.\n        1. Wait for initiated navigations to either succeed or fail, unless `noWaitAfter` option is set.\n    \n        If the element is detached from the DOM at any moment during the action, this method throws.\n    \n        When all steps combined have not finished during the specified `timeout`, this method throws a `TimeoutError`.\n        Passing zero timeout disables this.\n    \n        **Usage**\n    \n        Click a button:\n    \n        ```py\n        page.get_by_role(\\\"button\\\").click()\n        ```\n    \n        Shift-right-click at a specific position on a canvas:\n    \n        ```py\n        page.locator(\\\"canvas\\\").click(\n            button=\\\"right\\\", modifiers=[\\\"Shift\\\"], position={\\\"x\\\": 23, \\\"y\\\": 32}\n        )\n        ```\n    \n        Parameters\n        ----------\n        modifiers : Union[Sequence[Union[\"Alt\", \"Control\", \"ControlOrMeta\", \"Meta\", \"Shift\"]], None]\n            Modifier keys to press. Ensures that only these modifiers are pressed during the operation, and then restores\n            current modifiers back. If not specified, currently pressed modifiers are used. \"ControlOrMeta\" resolves to\n            \"Control\" on Windows and Linux and to \"Meta\" on macOS.\n        position : Union[{x: float, y: float}, None]\n            A point to use relative to the top-left corner of element padding box. If not specified, uses some visible point of\n            the element.\n        delay : Union[float, None]\n            Time to wait between `mousedown` and `mouseup` in milliseconds. Defaults to 0.\n        button : Union[\"left\", \"middle\", \"right\", None]\n            Defaults to `left`.\n        click_count : Union[int, None]\n            defaults to 1. See [UIEvent.detail].\n        timeout : Union[float, None]\n            Maximum time in milliseconds. Defaults to `30000` (30 seconds). Pass `0` to disable timeout. The default value can\n            be changed by using the `browser_context.set_default_timeout()` or `page.set_default_timeout()` methods.\n        force : Union[bool, None]\n            Whether to bypass the [actionability](../actionability.md) checks. Defaults to `false`.\n        no_wait_after : Union[bool, None]\n            Actions that initiate navigations are waiting for these navigations to happen and for pages to start loading. You\n            can opt out of waiting via setting this flag. You would only need this option in the exceptional cases such as\n            navigating to inaccessible pages. Defaults to `false`.\n            Deprecated: This option will default to `true` in the future.\n        trial : Union[bool, None]\n            When set, this method only performs the [actionability](../actionability.md) checks and skips the action. Defaults\n            to `false`. Useful to wait until the element is ready for the action without performing it. Note that keyboard\n            `modifiers` will be pressed regardless of `trial` to allow testing elements which are only visible when those keys\n            are pressed.\n        \"\"\"\n    \n        return mapping.from_maybe_impl(\n>           self._sync(\n                self._impl_obj.click(\n                    modifiers=mapping.to_impl(modifiers),\n                    position=position,\n                    delay=delay,\n                    button=button,\n                    clickCount=click_count,\n                    timeout=timeout,\n                    force=force,\n                    noWaitAfter=no_wait_after,\n                    trial=trial,\n                )\n            )\n        )\n\n.venv/lib/python3.10/site-packages/playwright/sync_api/_generated.py:15573: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Locator frame=<Frame name= url='http://frontend.niffler.dc/profile'> selector='.MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span'>\nmodifiers = None, position = None, delay = None, button = None\nclickCount = None, timeout = None, force = None, noWaitAfter = None\ntrial = None\n\n    async def click(\n        self,\n        modifiers: Sequence[KeyboardModifier] = None,\n        position: Position = None,\n        delay: float = None,\n        button: MouseButton = None,\n        clickCount: int = None,\n        timeout: float = None,\n        force: bool = None,\n        noWaitAfter: bool = None,\n        trial: bool = None,\n    ) -> None:\n        params = locals_to_params(locals())\n>       return await self._frame.click(self._selector, strict=True, **params)\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_locator.py:160: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Frame name= url='http://frontend.niffler.dc/profile'>\nselector = '.MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span'\nmodifiers = None, position = None, delay = None, button = None\nclickCount = None, timeout = None, force = None, noWaitAfter = None\nstrict = True, trial = None\n\n    async def click(\n        self,\n        selector: str,\n        modifiers: Sequence[KeyboardModifier] = None,\n        position: Position = None,\n        delay: float = None,\n        button: MouseButton = None,\n        clickCount: int = None,\n        timeout: float = None,\n        force: bool = None,\n        noWaitAfter: bool = None,\n        strict: bool = None,\n        trial: bool = None,\n    ) -> None:\n>       await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_frame.py:549: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Channel object at 0x7f8c0e8e8220>\nmethod = 'click'\ntimeout_calculator = <bound method Frame._timeout of <Frame name= url='http://frontend.niffler.dc/profile'>>\nparams = {'selector': '.MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span', 'strict': True, 'timeout': 30000}\nis_internal = False, title = None\n\n    async def send(\n        self,\n        method: str,\n        timeout_calculator: TimeoutCalculator,\n        params: Dict = None,\n        is_internal: bool = False,\n        title: str = None,\n    ) -> Any:\n>       return await self._connection.wrap_api_call(\n            lambda: self._inner_send(method, timeout_calculator, params, False),\n            is_internal,\n            title,\n        )\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py:69: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7f8c0e4fc0a0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7f8c0c5300d0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\".MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span\")\nE               - locator resolved to <span class=\"MuiTouchRipple-root css-w0pj6f\">…</span>\nE             - attempting click action\nE               2 × waiting for element to be visible, enabled and stable\nE                 - element is not stable\nE               - retrying click action\nE               - waiting 20ms\nE               - waiting for element to be visible, enabled and stable\nE               - element is not stable\nE             2 × retrying click action\nE                 - waiting 100ms\nE                 - waiting for element to be visible, enabled and stable\nE                 - element is not visible\nE             57 × retrying click action\nE                  - waiting 500ms\nE                  - waiting for element to be visible, enabled and stable\nE                  - element is not visible\nE             - retrying click action\nE               - waiting 500ms\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py:559: TimeoutError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Delete Output Dir","time":{"start":1771689671308,"stop":1771689671308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1771689671308,"stop":1771689671308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Pytestconfig","time":{"start":1771689671308,"stop":1771689671308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Base Url","time":{"start":1771689671308,"stop":1771689671308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771689671308,"stop":1771689671310,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"6114bce2271f3295","name":"envs.json","source":"6114bce2271f3295.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S] User Db","time":{"start":1771689671310,"stop":1771689671406,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771689671407,"stop":1771689672344,"duration":937},"status":"passed","steps":[{"name":"GET /register","time":{"start":1771689671432,"stop":1771689671768,"duration":336},"status":"passed","steps":[],"attachments":[{"uid":"4de6e0874e72dfc8","name":"Request","source":"4de6e0874e72dfc8.html","type":"text/html","size":2053},{"uid":"eb9f0871674b641f","name":"8382efea-ace9-4376-827f-af1e0bed0eb1-attachment.txt","source":"eb9f0871674b641f.txt","type":"text/plain","size":3731}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /register","time":{"start":1771689671773,"stop":1771689672344,"duration":571},"status":"passed","steps":[],"attachments":[{"uid":"9ef6e7801ea870","name":"Request","source":"9ef6e7801ea870.html","type":"text/html","size":2710},{"uid":"a31466c93b85e354","name":"090c4631-2834-428f-be81-7a4fee478f68-attachment.txt","source":"a31466c93b85e354.txt","type":"text/plain","size":2279}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"209cd3b05f1a2dd4","name":"select niffler-userdata","source":"209cd3b05f1a2dd4.txt","type":"text/plain","size":27},{"uid":"baf3eb8bfe121529","name":"select niffler-userdata","source":"baf3eb8bfe121529.txt","type":"text/plain","size":23},{"uid":"d0b2fbccfbdbc20f","name":"show niffler-userdata","source":"d0b2fbccfbdbc20f.txt","type":"text/plain","size":32},{"uid":"79c2ef139795d6c1","name":"SELECT niffler-userdata","source":"79c2ef139795d6c1.txt","type":"text/plain","size":161}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771689671407,"stop":1771689671407,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Category Db","time":{"start":1771689672344,"stop":1771689672345,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Token","time":{"start":1771689672345,"stop":1771689673446,"duration":1101},"status":"passed","steps":[{"name":"GET /oauth2/authorize","time":{"start":1771689672352,"stop":1771689672797,"duration":445},"status":"passed","steps":[],"attachments":[{"uid":"39ca0e3ade8ae6b7","name":"Request","source":"39ca0e3ade8ae6b7.html","type":"text/html","size":2119},{"uid":"fe8002518dfaf25e","name":"74e3bd4a-1ca8-48ee-814f-7a6ec10a08cf-attachment.txt","source":"fe8002518dfaf25e.txt","type":"text/plain","size":2897}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /login","time":{"start":1771689672802,"stop":1771689673309,"duration":507},"status":"passed","steps":[],"attachments":[{"uid":"a13a1a76d0766d22","name":"Request","source":"a13a1a76d0766d22.html","type":"text/html","size":2397},{"uid":"70e46a0fcc29ec52","name":"d2f51217-ca9c-44ee-a760-0b37c27aa0df-attachment.txt","source":"70e46a0fcc29ec52.txt","type":"text/plain","size":417}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /oauth2/token","time":{"start":1771689673314,"stop":1771689673446,"duration":132},"status":"passed","steps":[],"attachments":[{"uid":"3ae71c29f4988ca6","name":"Request","source":"3ae71c29f4988ca6.html","type":"text/html","size":3376},{"uid":"8d0fa81e51fc70","name":"Response json 200","source":"8d0fa81e51fc70.json","type":"application/json","size":1521}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"[F] Browser","time":{"start":1771689696313,"stop":1771689696653,"duration":340},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Page","time":{"start":1771689696654,"stop":1771689696773,"duration":119},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Login User","time":{"start":1771689696773,"stop":1771689697282,"duration":509},"status":"passed","steps":[{"name":"Ввести в input \"Username\" значение \"Alex\"","time":{"start":1771689696828,"stop":1771689697076,"duration":248},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ввести в input \"Password\" значение \"SonyXperia\"","time":{"start":1771689697076,"stop":1771689697086,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать button  \"Log in\"","time":{"start":1771689697086,"stop":1771689697234,"duration":148},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"[F] Login Page","time":{"start":1771689696773,"stop":1771689696773,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Create Category","time":{"start":1771689697283,"stop":1771689697306,"duration":23},"status":"passed","steps":[{"name":"Отправить запрос на создание категории","time":{"start":1771689697283,"stop":1771689697306,"duration":23},"status":"passed","steps":[{"name":"POST /api/categories/add","time":{"start":1771689697289,"stop":1771689697306,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"f6cad339cb6bebc","name":"Request","source":"f6cad339cb6bebc.html","type":"text/html","size":3835},{"uid":"68ac673b7aeae5e3","name":"Response json 200","source":"68ac673b7aeae5e3.json","type":"application/json","size":127}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"name","value":"'interactions'"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"[F] Spends Client","time":{"start":1771689697283,"stop":1771689697283,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Category Value","time":{"start":1771689697283,"stop":1771689697283,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Profile Page","time":{"start":1771689697306,"stop":1771689697306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Header Element","time":{"start":1771689697307,"stop":1771689697307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Navbar Element","time":{"start":1771689697307,"stop":1771689697307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Archive Category Alert","time":{"start":1771689697307,"stop":1771689697307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span\")\n    - locator resolved to <span class=\"MuiTouchRipple-root css-w0pj6f\">…</span>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is not stable\n    - retrying click action\n    - waiting 20ms\n    - waiting for element to be visible, enabled and stable\n    - element is not stable\n  2 × retrying click action\n      - waiting 100ms\n      - waiting for element to be visible, enabled and stable\n      - element is not visible\n  57 × retrying click action\n       - waiting 500ms\n       - waiting for element to be visible, enabled and stable\n       - element is not visible\n  - retrying click action\n    - waiting 500ms","statusTrace":"page = <Page url='http://frontend.niffler.dc/profile'>\nprofile_page = <pages.profile_page.ProfilePage object at 0x7f8c0f092b30>\nnavbar_element = <components.navbar_element.NavbarElement object at 0x7f8c0ec1c7f0>\narchive_category_alert = <components.archive_category_alert_element.ArchiveCategoryAlertElement object at 0x7f8c0ec1d180>\nheader_element = <components.header_element.HeaderElement object at 0x7f8c0ec1d540>\n\n    @allure.feature(\"Страница Профиль\")\n    @allure.title(\"Редактирование категории\")\n    @pytest.mark.usefixtures(\"login_user\", \"create_category\")\n    def test_archive_category(page, profile_page, navbar_element, archive_category_alert, header_element):\n        header_element.click_person_icon()\n        navbar_element.click_profile_link()\n        profile_page.click_archive_category_button()\n>       archive_category_alert.click_archive_button()\n\ntests/ui_tests/test_profile.py:41: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <components.archive_category_alert_element.ArchiveCategoryAlertElement object at 0x7f8c0ec1d180>\n\n    def click_archive_button(self):\n        self.archive_button.should_be_visible()\n        self.archive_button.click()\n>       self.archive_button.click()\n\ncomponents/archive_category_alert_element.py:12: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_factory.button.Button object at 0x7f8c0ec1fbe0>, kwargs = {}\nlocator = <Locator frame=<Frame name= url='http://frontend.niffler.dc/profile'> selector='.MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span'>\n\n    def click(self, **kwargs):\n        with allure.step(f'Нажать {self.type_of}  \"{self.name}\"'):\n            locator = self.get_locator(**kwargs)\n>           locator.click()\n\npage_factory/component.py:40: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Locator frame=<Frame name= url='http://frontend.niffler.dc/profile'> selector='.MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span'>\n\n    def click(\n        self,\n        *,\n        modifiers: typing.Optional[\n            typing.Sequence[Literal[\"Alt\", \"Control\", \"ControlOrMeta\", \"Meta\", \"Shift\"]]\n        ] = None,\n        position: typing.Optional[Position] = None,\n        delay: typing.Optional[float] = None,\n        button: typing.Optional[Literal[\"left\", \"middle\", \"right\"]] = None,\n        click_count: typing.Optional[int] = None,\n        timeout: typing.Optional[float] = None,\n        force: typing.Optional[bool] = None,\n        no_wait_after: typing.Optional[bool] = None,\n        trial: typing.Optional[bool] = None,\n    ) -> None:\n        \"\"\"Locator.click\n    \n        Click an element.\n    \n        **Details**\n    \n        This method clicks the element by performing the following steps:\n        1. Wait for [actionability](https://playwright.dev/python/docs/actionability) checks on the element, unless `force` option is set.\n        1. Scroll the element into view if needed.\n        1. Use `page.mouse` to click in the center of the element, or the specified `position`.\n        1. Wait for initiated navigations to either succeed or fail, unless `noWaitAfter` option is set.\n    \n        If the element is detached from the DOM at any moment during the action, this method throws.\n    \n        When all steps combined have not finished during the specified `timeout`, this method throws a `TimeoutError`.\n        Passing zero timeout disables this.\n    \n        **Usage**\n    \n        Click a button:\n    \n        ```py\n        page.get_by_role(\\\"button\\\").click()\n        ```\n    \n        Shift-right-click at a specific position on a canvas:\n    \n        ```py\n        page.locator(\\\"canvas\\\").click(\n            button=\\\"right\\\", modifiers=[\\\"Shift\\\"], position={\\\"x\\\": 23, \\\"y\\\": 32}\n        )\n        ```\n    \n        Parameters\n        ----------\n        modifiers : Union[Sequence[Union[\"Alt\", \"Control\", \"ControlOrMeta\", \"Meta\", \"Shift\"]], None]\n            Modifier keys to press. Ensures that only these modifiers are pressed during the operation, and then restores\n            current modifiers back. If not specified, currently pressed modifiers are used. \"ControlOrMeta\" resolves to\n            \"Control\" on Windows and Linux and to \"Meta\" on macOS.\n        position : Union[{x: float, y: float}, None]\n            A point to use relative to the top-left corner of element padding box. If not specified, uses some visible point of\n            the element.\n        delay : Union[float, None]\n            Time to wait between `mousedown` and `mouseup` in milliseconds. Defaults to 0.\n        button : Union[\"left\", \"middle\", \"right\", None]\n            Defaults to `left`.\n        click_count : Union[int, None]\n            defaults to 1. See [UIEvent.detail].\n        timeout : Union[float, None]\n            Maximum time in milliseconds. Defaults to `30000` (30 seconds). Pass `0` to disable timeout. The default value can\n            be changed by using the `browser_context.set_default_timeout()` or `page.set_default_timeout()` methods.\n        force : Union[bool, None]\n            Whether to bypass the [actionability](../actionability.md) checks. Defaults to `false`.\n        no_wait_after : Union[bool, None]\n            Actions that initiate navigations are waiting for these navigations to happen and for pages to start loading. You\n            can opt out of waiting via setting this flag. You would only need this option in the exceptional cases such as\n            navigating to inaccessible pages. Defaults to `false`.\n            Deprecated: This option will default to `true` in the future.\n        trial : Union[bool, None]\n            When set, this method only performs the [actionability](../actionability.md) checks and skips the action. Defaults\n            to `false`. Useful to wait until the element is ready for the action without performing it. Note that keyboard\n            `modifiers` will be pressed regardless of `trial` to allow testing elements which are only visible when those keys\n            are pressed.\n        \"\"\"\n    \n        return mapping.from_maybe_impl(\n>           self._sync(\n                self._impl_obj.click(\n                    modifiers=mapping.to_impl(modifiers),\n                    position=position,\n                    delay=delay,\n                    button=button,\n                    clickCount=click_count,\n                    timeout=timeout,\n                    force=force,\n                    noWaitAfter=no_wait_after,\n                    trial=trial,\n                )\n            )\n        )\n\n.venv/lib/python3.10/site-packages/playwright/sync_api/_generated.py:15573: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Locator frame=<Frame name= url='http://frontend.niffler.dc/profile'> selector='.MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span'>\nmodifiers = None, position = None, delay = None, button = None\nclickCount = None, timeout = None, force = None, noWaitAfter = None\ntrial = None\n\n    async def click(\n        self,\n        modifiers: Sequence[KeyboardModifier] = None,\n        position: Position = None,\n        delay: float = None,\n        button: MouseButton = None,\n        clickCount: int = None,\n        timeout: float = None,\n        force: bool = None,\n        noWaitAfter: bool = None,\n        trial: bool = None,\n    ) -> None:\n        params = locals_to_params(locals())\n>       return await self._frame.click(self._selector, strict=True, **params)\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_locator.py:160: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Frame name= url='http://frontend.niffler.dc/profile'>\nselector = '.MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span'\nmodifiers = None, position = None, delay = None, button = None\nclickCount = None, timeout = None, force = None, noWaitAfter = None\nstrict = True, trial = None\n\n    async def click(\n        self,\n        selector: str,\n        modifiers: Sequence[KeyboardModifier] = None,\n        position: Position = None,\n        delay: float = None,\n        button: MouseButton = None,\n        clickCount: int = None,\n        timeout: float = None,\n        force: bool = None,\n        noWaitAfter: bool = None,\n        strict: bool = None,\n        trial: bool = None,\n    ) -> None:\n>       await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_frame.py:549: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Channel object at 0x7f8c0e8e8220>\nmethod = 'click'\ntimeout_calculator = <bound method Frame._timeout of <Frame name= url='http://frontend.niffler.dc/profile'>>\nparams = {'selector': '.MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span', 'strict': True, 'timeout': 30000}\nis_internal = False, title = None\n\n    async def send(\n        self,\n        method: str,\n        timeout_calculator: TimeoutCalculator,\n        params: Dict = None,\n        is_internal: bool = False,\n        title: str = None,\n    ) -> Any:\n>       return await self._connection.wrap_api_call(\n            lambda: self._inner_send(method, timeout_calculator, params, False),\n            is_internal,\n            title,\n        )\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py:69: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7f8c0e4fc0a0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7f8c0c5300d0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for locator(\".MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span\")\nE               - locator resolved to <span class=\"MuiTouchRipple-root css-w0pj6f\">…</span>\nE             - attempting click action\nE               2 × waiting for element to be visible, enabled and stable\nE                 - element is not stable\nE               - retrying click action\nE               - waiting 20ms\nE               - waiting for element to be visible, enabled and stable\nE               - element is not stable\nE             2 × retrying click action\nE                 - waiting 100ms\nE                 - waiting for element to be visible, enabled and stable\nE                 - element is not visible\nE             57 × retrying click action\nE                  - waiting 500ms\nE                  - waiting for element to be visible, enabled and stable\nE                  - element is not visible\nE             - retrying click action\nE               - waiting 500ms\n\n.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py:559: TimeoutError","steps":[{"name":"Нажать button  \"MainMenu\"","time":{"start":1771689697308,"stop":1771689698145,"duration":837},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать link  \"Profile\"","time":{"start":1771689698145,"stop":1771689698444,"duration":299},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать на первый button с названием \"Archive button\"","time":{"start":1771689698444,"stop":1771689698735,"duration":291},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить что button \"Archive\" отображается","time":{"start":1771689698735,"stop":1771689698740,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать button  \"Archive\"","time":{"start":1771689698740,"stop":1771689699005,"duration":265},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать button  \"Archive\"","time":{"start":1771689699005,"stop":1771689729011,"duration":30006},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".MuiDialogActions-root>.MuiButtonBase-root:nth-child(2)>span\")\n    - locator resolved to <span class=\"MuiTouchRipple-root css-w0pj6f\">…</span>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is not stable\n    - retrying click action\n    - waiting 20ms\n    - waiting for element to be visible, enabled and stable\n    - element is not stable\n  2 × retrying click action\n      - waiting 100ms\n      - waiting for element to be visible, enabled and stable\n      - element is not visible\n  57 × retrying click action\n       - waiting 500ms\n       - waiting for element to be visible, enabled and stable\n       - element is not visible\n  - retrying click action\n    - waiting 500ms\n\n","statusTrace":"  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/page_factory/component.py\", line 40, in click\n    locator.click()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 15573, in click\n    self._sync(\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_locator.py\", line 160, in click\n    return await self._frame.click(self._selector, strict=True, **params)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_frame.py\", line 549, in click\n    await self._channel.send(\"click\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 559, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"2672ba2a1bc1904d","name":"screenshotе","source":"2672ba2a1bc1904d.png","type":"image/png","size":43596}],"parameters":[],"stepsCount":6,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"create_category::teardown","time":{"start":1771689729229,"stop":1771689729232,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"82e6d96dd3db321c","name":"SELECT niffler-spend","source":"82e6d96dd3db321c.txt","type":"text/plain","size":218},{"uid":"4a1390473e928184","name":"DELETE niffler-spend","source":"4a1390473e928184.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"browser::teardown","time":{"start":1771689729233,"stop":1771689729266,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Страница Профиль"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"9886-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui_tests.test_profile"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":2,"skipped":0,"passed":0,"unknown":0,"total":6},"items":[{"uid":"2da859acb1d60a80","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/44/#testresult/2da859acb1d60a80","status":"broken","statusDetails":"sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"user\" does not exist\nLINE 2: FROM \"user\" \n             ^\n\n[SQL: SELECT \"user\".id, \"user\".username, \"user\".currency, \"user\".firstname, \"user\".surname, \"user\".photo, \"user\".photo_small \nFROM \"user\" \nWHERE \"user\".username = %(username_1)s]\n[parameters: {'username_1': 'Alex'}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","time":{"start":1771689220284,"stop":1771689220284,"duration":0}},{"uid":"26019fc7179b516c","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/43/#testresult/26019fc7179b516c","status":"failed","statusDetails":"AssertionError: Locator expected not to be visible\nActual value: None\nError: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\n    1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">learned_edited</span> aka locator(\"div\").filter(has_text=\"learned_edited\").nth(5)\n    2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">push</span> aka locator(\"div\").filter(has_text=\"push\").nth(5)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"[class*='css-14vsv3w']\")","time":{"start":1771688303202,"stop":1771688305024,"duration":1822}},{"uid":"14b16a5d93aa44e4","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/42/#testresult/14b16a5d93aa44e4","status":"failed","statusDetails":"AssertionError: Locator expected not to be visible\nActual value: None\nError: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\n    1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">coaching</span> aka locator(\"div\").filter(has_text=\"coaching\").nth(5)\n    2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">magnetic</span> aka locator(\"div\").filter(has_text=\"magnetic\").nth(5)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"[class*='css-14vsv3w']\")","time":{"start":1771614453084,"stop":1771614454918,"duration":1834}},{"uid":"23efdb5e37b260b9","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/41/#testresult/23efdb5e37b260b9","status":"failed","statusDetails":"AssertionError: Locator expected not to be visible\nActual value: None\nError: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\n    1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">gbp_edited</span> aka locator(\"div\").filter(has_text=\"gbp_edited\").nth(5)\n    2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">range</span> aka locator(\"div\").filter(has_text=\"range\").nth(5)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"[class*='css-14vsv3w']\")","time":{"start":1771613456101,"stop":1771613457892,"duration":1791}},{"uid":"faf63e4a51799dda","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/40/#testresult/faf63e4a51799dda","status":"failed","statusDetails":"AssertionError: Locator expected not to be visible\nActual value: None\nError: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\n    1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">utility</span> aka locator(\"div\").filter(has_text=\"utility\").nth(5)\n    2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">white</span> aka locator(\"div\").filter(has_text=\"white\").nth(5)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"[class*='css-14vsv3w']\")","time":{"start":1771612813154,"stop":1771612814979,"duration":1825}}]},"tags":[]},"source":"7f005e05c3c55bf6.json","parameterValues":[]}