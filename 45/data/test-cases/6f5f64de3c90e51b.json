{"uid":"6f5f64de3c90e51b","name":"Редактирование траты","fullName":"tests.api_tests.test_spendings_api#test_edit_spend","historyId":"07c21dc77d8ab42c5d0747a6415e3d6b","time":{"start":1771689674656,"stop":1771689674685,"duration":29},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S]  Verify Url","time":{"start":1771689671308,"stop":1771689671308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Delete Output Dir","time":{"start":1771689671308,"stop":1771689671308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Pytestconfig","time":{"start":1771689671308,"stop":1771689671308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Base Url","time":{"start":1771689671308,"stop":1771689671308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771689671308,"stop":1771689671310,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"6114bce2271f3295","name":"envs.json","source":"6114bce2271f3295.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S] User Db","time":{"start":1771689671310,"stop":1771689671406,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771689671407,"stop":1771689672344,"duration":937},"status":"passed","steps":[{"name":"GET /register","time":{"start":1771689671432,"stop":1771689671768,"duration":336},"status":"passed","steps":[],"attachments":[{"uid":"4de6e0874e72dfc8","name":"Request","source":"4de6e0874e72dfc8.html","type":"text/html","size":2053},{"uid":"eb9f0871674b641f","name":"8382efea-ace9-4376-827f-af1e0bed0eb1-attachment.txt","source":"eb9f0871674b641f.txt","type":"text/plain","size":3731}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /register","time":{"start":1771689671773,"stop":1771689672344,"duration":571},"status":"passed","steps":[],"attachments":[{"uid":"9ef6e7801ea870","name":"Request","source":"9ef6e7801ea870.html","type":"text/html","size":2710},{"uid":"a31466c93b85e354","name":"090c4631-2834-428f-be81-7a4fee478f68-attachment.txt","source":"a31466c93b85e354.txt","type":"text/plain","size":2279}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"209cd3b05f1a2dd4","name":"select niffler-userdata","source":"209cd3b05f1a2dd4.txt","type":"text/plain","size":27},{"uid":"baf3eb8bfe121529","name":"select niffler-userdata","source":"baf3eb8bfe121529.txt","type":"text/plain","size":23},{"uid":"d0b2fbccfbdbc20f","name":"show niffler-userdata","source":"d0b2fbccfbdbc20f.txt","type":"text/plain","size":32},{"uid":"79c2ef139795d6c1","name":"SELECT niffler-userdata","source":"79c2ef139795d6c1.txt","type":"text/plain","size":161}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771689671407,"stop":1771689671407,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Category Db","time":{"start":1771689672344,"stop":1771689672345,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Token","time":{"start":1771689672345,"stop":1771689673446,"duration":1101},"status":"passed","steps":[{"name":"GET /oauth2/authorize","time":{"start":1771689672352,"stop":1771689672797,"duration":445},"status":"passed","steps":[],"attachments":[{"uid":"39ca0e3ade8ae6b7","name":"Request","source":"39ca0e3ade8ae6b7.html","type":"text/html","size":2119},{"uid":"fe8002518dfaf25e","name":"74e3bd4a-1ca8-48ee-814f-7a6ec10a08cf-attachment.txt","source":"fe8002518dfaf25e.txt","type":"text/plain","size":2897}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /login","time":{"start":1771689672802,"stop":1771689673309,"duration":507},"status":"passed","steps":[],"attachments":[{"uid":"a13a1a76d0766d22","name":"Request","source":"a13a1a76d0766d22.html","type":"text/html","size":2397},{"uid":"70e46a0fcc29ec52","name":"d2f51217-ca9c-44ee-a760-0b37c27aa0df-attachment.txt","source":"70e46a0fcc29ec52.txt","type":"text/plain","size":417}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /oauth2/token","time":{"start":1771689673314,"stop":1771689673446,"duration":132},"status":"passed","steps":[],"attachments":[{"uid":"3ae71c29f4988ca6","name":"Request","source":"3ae71c29f4988ca6.html","type":"text/html","size":3376},{"uid":"8d0fa81e51fc70","name":"Response json 200","source":"8d0fa81e51fc70.json","type":"application/json","size":1521}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"[S] Spend Db","time":{"start":1771689674154,"stop":1771689674154,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spends Client","time":{"start":1771689674626,"stop":1771689674626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Currency","time":{"start":1771689674626,"stop":1771689674626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spend Data For Edit","time":{"start":1771689674626,"stop":1771689674626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Delete Category With Spendings","time":{"start":1771689674627,"stop":1771689674627,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spend Data For Add","time":{"start":1771689674627,"stop":1771689674627,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Add Spend","time":{"start":1771689674627,"stop":1771689674655,"duration":28},"status":"passed","steps":[{"name":"Отправить запрос на создание траты","time":{"start":1771689674627,"stop":1771689674655,"duration":28},"status":"passed","steps":[{"name":"POST /api/spends/add","time":{"start":1771689674631,"stop":1771689674655,"duration":24},"status":"passed","steps":[],"attachments":[{"uid":"76eb9f9d20c42a03","name":"Request","source":"76eb9f9d20c42a03.html","type":"text/html","size":4197},{"uid":"fd3833c7157d10c8","name":"Response json 201","source":"fd3833c7157d10c8.json","type":"application/json","size":394}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"spend","value":"{'amount': 1165.94, 'description': 'The arguments can be primitive data type', 'category': CategoryAdd(name='weekly', username=None, archived=None), 'spendDate': '2026-02-20T16:01:14.626589', 'currency': 'USD'}"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"[F] Delete Category With Edited Spendings","time":{"start":1771689674655,"stop":1771689674656,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Отправить запрос на редактирование траты","time":{"start":1771689674656,"stop":1771689674685,"duration":29},"status":"passed","steps":[{"name":"PATCH /api/spends/edit","time":{"start":1771689674661,"stop":1771689674685,"duration":24},"status":"passed","steps":[],"attachments":[{"uid":"bdc7c47fb246ec2c","name":"Request","source":"bdc7c47fb246ec2c.html","type":"text/html","size":4293},{"uid":"fcb9c58ac6cdc73c","name":"Response json 200","source":"fcb9c58ac6cdc73c.json","type":"application/json","size":394}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"edit_spend","value":"{'id': '9170cc2c-b6ea-4905-84d4-43d648720b53', 'amount': 651.29, 'description': 'Erlang is known for its designs that are', 'category': CategoryAdd(name='screens', username=None, archived=None), 'spendDate': '2026-02-20T16:01:14.626315', 'currency': 'KZT'}"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Сравнить 651.29 и 651.29","time":{"start":1771689674685,"stop":1771689674685,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить Erlang is known for its designs that are и Erlang is known for its designs that are","time":{"start":1771689674685,"stop":1771689674685,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить 2026-02-20 и 2026-02-20","time":{"start":1771689674685,"stop":1771689674685,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить KZT и KZT","time":{"start":1771689674685,"stop":1771689674685,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить screens и screens","time":{"start":1771689674685,"stop":1771689674685,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"delete_category_with_edited_spendings::teardown","time":{"start":1771689674686,"stop":1771689674729,"duration":43},"status":"passed","steps":[{"name":"Отправить запрос на получение списка трат","time":{"start":1771689674686,"stop":1771689674705,"duration":19},"status":"passed","steps":[{"name":"GET /api/spends/all","time":{"start":1771689674690,"stop":1771689674704,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"7d6743d147dff788","name":"Request","source":"7d6743d147dff788.html","type":"text/html","size":3575},{"uid":"15cb45a3e68b5028","name":"Response json 200","source":"15cb45a3e68b5028.json","type":"application/json","size":454}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Отправить запрос на удаление траты","time":{"start":1771689674705,"stop":1771689674725,"duration":20},"status":"passed","steps":[{"name":"DELETE /api/spends/remove","time":{"start":1771689674711,"stop":1771689674725,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"f56a8ce7ba0fcb12","name":"Request","source":"f56a8ce7ba0fcb12.html","type":"text/html","size":3789},{"uid":"d32911e19ed2cdc1","name":"41e04e39-ac2e-4bb7-9d23-655d179bc901-attachment.txt","source":"d32911e19ed2cdc1.txt","type":"text/plain","size":0}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"ids","value":"['9170cc2c-b6ea-4905-84d4-43d648720b53']"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"cd2c2124f681fa7f","name":"SELECT niffler-spend","source":"cd2c2124f681fa7f.txt","type":"text/plain","size":146},{"uid":"c7f82ac78490913c","name":"SELECT niffler-spend","source":"c7f82ac78490913c.txt","type":"text/plain","size":218},{"uid":"2b8f11f7a70bd30","name":"DELETE niffler-spend","source":"2b8f11f7a70bd30.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"delete_category_with_spendings::teardown","time":{"start":1771689674730,"stop":1771689674756,"duration":26},"status":"passed","steps":[{"name":"Отправить запрос на получение списка трат","time":{"start":1771689674730,"stop":1771689674751,"duration":21},"status":"passed","steps":[{"name":"GET /api/spends/all","time":{"start":1771689674735,"stop":1771689674751,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"fa08f6d9f0cbe3ba","name":"Request","source":"fa08f6d9f0cbe3ba.html","type":"text/html","size":3575},{"uid":"2085be9c7cab93e2","name":"Response json 200","source":"2085be9c7cab93e2.json","type":"application/json","size":2}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6ba3d52ed1c977da","name":"SELECT niffler-spend","source":"6ba3d52ed1c977da.txt","type":"text/plain","size":145},{"uid":"4b990f082abad26c","name":"SELECT niffler-spend","source":"4b990f082abad26c.txt","type":"text/plain","size":218},{"uid":"80cb9a6a75b9658f","name":"DELETE niffler-spend","source":"80cb9a6a75b9658f.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"feature","value":"Траты"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"9886-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api_tests.test_spendings_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":5,"unknown":0,"total":6},"items":[{"uid":"1770c524f2aee30b","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/44/#testresult/1770c524f2aee30b","status":"broken","statusDetails":"sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"user\" does not exist\nLINE 2: FROM \"user\" \n             ^\n\n[SQL: SELECT \"user\".id, \"user\".username, \"user\".currency, \"user\".firstname, \"user\".surname, \"user\".photo, \"user\".photo_small \nFROM \"user\" \nWHERE \"user\".username = %(username_1)s]\n[parameters: {'username_1': 'Alex'}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","time":{"start":1771689215657,"stop":1771689215657,"duration":0}},{"uid":"205866cf175b684e","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/43/#testresult/205866cf175b684e","status":"passed","time":{"start":1771688279534,"stop":1771688279564,"duration":30}},{"uid":"f8eecf8c66e6d53d","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/42/#testresult/f8eecf8c66e6d53d","status":"passed","time":{"start":1771614434513,"stop":1771614434542,"duration":29}},{"uid":"8f9190570f1ed102","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/41/#testresult/8f9190570f1ed102","status":"passed","time":{"start":1771613432998,"stop":1771613433028,"duration":30}},{"uid":"e7b2e41ea11e95a5","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/40/#testresult/e7b2e41ea11e95a5","status":"passed","time":{"start":1771612795615,"stop":1771612795641,"duration":26}}]},"tags":[]},"source":"6f5f64de3c90e51b.json","parameterValues":[]}