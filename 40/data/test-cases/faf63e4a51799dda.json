{"uid":"faf63e4a51799dda","name":"Редактирование категории","fullName":"tests.ui_tests.test_profile#test_archive_category","historyId":"41c74135c5a06f0add260605990da48d","time":{"start":1771612813154,"stop":1771612814979,"duration":1825},"status":"failed","statusMessage":"AssertionError: Locator expected not to be visible\nActual value: None\nError: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\n    1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">utility</span> aka locator(\"div\").filter(has_text=\"utility\").nth(5)\n    2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">white</span> aka locator(\"div\").filter(has_text=\"white\").nth(5)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"[class*='css-14vsv3w']\")","statusTrace":"page = <Page url='http://frontend.niffler.dc/profile'>\nprofile_page = <pages.profile_page.ProfilePage object at 0x7fee5322df00>\nnavbar_element = <components.navbar_element.NavbarElement object at 0x7fee53158130>\narchive_category_alert = <components.archive_category_alert_element.ArchiveCategoryAlertElement object at 0x7fee5315b5b0>\nheader_element = <components.header_element.HeaderElement object at 0x7fee5315b640>\n\n    @allure.feature(\"Страница Профиль\")\n    @allure.title(\"Редактирование категории\")\n    @pytest.mark.usefixtures(\"login_user\", \"create_category\")\n    def test_archive_category(page, profile_page, navbar_element, archive_category_alert, header_element):\n        header_element.click_person_icon()\n        navbar_element.click_profile_link()\n        profile_page.click_archive_category_button()\n        archive_category_alert.click_archive_button()\n>       profile_page.check_archived_category_not_visibility()\n\ntests/ui_tests/test_profile.py:42: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.profile_page.ProfilePage object at 0x7fee5322df00>\n\n    def check_archived_category_not_visibility(self):\n>       self.category_tag.should_not_be_visible()\n\npages/profile_page.py:53: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_factory.tag.Tag object at 0x7fee5322dcf0>, kwargs = {}\nlocator = <Locator frame=<Frame name= url='http://frontend.niffler.dc/profile'> selector=\"[class*='css-14vsv3w']\">\n\n    def should_not_be_visible(self, **kwargs):\n        with allure.step(f'Проверить что {self.type_of} \"{self.name}\" не отображается'):\n            locator = self.get_locator(**kwargs)\n>           expect(locator).not_to_be_visible()\nE           AssertionError: Locator expected not to be visible\nE           Actual value: None\nE           Error: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\nE               1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">utility</span> aka locator(\"div\").filter(has_text=\"utility\").nth(5)\nE               2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">white</span> aka locator(\"div\").filter(has_text=\"white\").nth(5)\nE            \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for locator(\"[class*='css-14vsv3w']\")\n\npage_factory/component.py:60: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Delete Output Dir","time":{"start":1771612793150,"stop":1771612793150,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Pytestconfig","time":{"start":1771612793150,"stop":1771612793150,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1771612793150,"stop":1771612793150,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771612793150,"stop":1771612793152,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"300046e55d3e20e9","name":"envs.json","source":"300046e55d3e20e9.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S] Base Url","time":{"start":1771612793150,"stop":1771612793150,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Authority Db","time":{"start":1771612793152,"stop":1771612793251,"duration":99},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771612793251,"stop":1771612793859,"duration":608},"status":"passed","steps":[{"name":"GET /register","time":{"start":1771612793268,"stop":1771612793530,"duration":262},"status":"passed","steps":[],"attachments":[{"uid":"b4a134c990810388","name":"Request","source":"b4a134c990810388.html","type":"text/html","size":2053},{"uid":"e8165d4c1298b691","name":"887bf045-04f4-4816-a520-477211a2e082-attachment.txt","source":"e8165d4c1298b691.txt","type":"text/plain","size":3731}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /register","time":{"start":1771612793535,"stop":1771612793859,"duration":324},"status":"passed","steps":[],"attachments":[{"uid":"dce0ab15ec02cb37","name":"Request","source":"dce0ab15ec02cb37.html","type":"text/html","size":2710},{"uid":"6eabd0eb3210be58","name":"8407bfd0-ea6e-4ca0-baf0-82f31169c1f1-attachment.txt","source":"6eabd0eb3210be58.txt","type":"text/plain","size":2279}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771612793251,"stop":1771612793251,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Category Db","time":{"start":1771612793860,"stop":1771612793860,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Token","time":{"start":1771612793860,"stop":1771612794459,"duration":599},"status":"passed","steps":[{"name":"GET /oauth2/authorize","time":{"start":1771612793869,"stop":1771612794022,"duration":153},"status":"passed","steps":[],"attachments":[{"uid":"e9fb06650f3128d8","name":"Request","source":"e9fb06650f3128d8.html","type":"text/html","size":2119},{"uid":"1fcb49f1d733b70b","name":"e60c36e9-6f79-40e9-9e93-58129844aa1b-attachment.txt","source":"1fcb49f1d733b70b.txt","type":"text/plain","size":2897}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /login","time":{"start":1771612794030,"stop":1771612794341,"duration":311},"status":"passed","steps":[],"attachments":[{"uid":"ab2baca4eb5e7b0","name":"Request","source":"ab2baca4eb5e7b0.html","type":"text/html","size":2397},{"uid":"27bd22f92b3622b9","name":"96dd06d8-370d-4b18-8117-ce76328c0bd6-attachment.txt","source":"27bd22f92b3622b9.txt","type":"text/plain","size":417}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /oauth2/token","time":{"start":1771612794345,"stop":1771612794459,"duration":114},"status":"passed","steps":[],"attachments":[{"uid":"fd6909f2d7b7169c","name":"Request","source":"fd6909f2d7b7169c.html","type":"text/html","size":3376},{"uid":"49083e925fa4fb60","name":"Response json 200","source":"49083e925fa4fb60.json","type":"application/json","size":1521}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"[F] Browser","time":{"start":1771612812205,"stop":1771612812543,"duration":338},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Page","time":{"start":1771612812543,"stop":1771612812661,"duration":118},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Login User","time":{"start":1771612812661,"stop":1771612813131,"duration":470},"status":"passed","steps":[{"name":"Ввести в input \"Username\" значение \"Alex\"","time":{"start":1771612812714,"stop":1771612812868,"duration":154},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ввести в input \"Password\" значение \"SonyXperia\"","time":{"start":1771612812868,"stop":1771612812944,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать button  \"Log in\"","time":{"start":1771612812944,"stop":1771612813085,"duration":141},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"[F] Login Page","time":{"start":1771612812661,"stop":1771612812661,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spends Client","time":{"start":1771612813131,"stop":1771612813131,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Create Category","time":{"start":1771612813132,"stop":1771612813153,"duration":21},"status":"passed","steps":[{"name":"Отправить запрос на создание категории","time":{"start":1771612813132,"stop":1771612813153,"duration":21},"status":"passed","steps":[{"name":"POST /api/categories/add","time":{"start":1771612813138,"stop":1771612813152,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"51d9ff24ba15080a","name":"Request","source":"51d9ff24ba15080a.html","type":"text/html","size":3821},{"uid":"92413ae785af881d","name":"Response json 200","source":"92413ae785af881d.json","type":"application/json","size":120}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"name","value":"'white'"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"[F] Category Value","time":{"start":1771612813132,"stop":1771612813132,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Header Element","time":{"start":1771612813153,"stop":1771612813153,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Profile Page","time":{"start":1771612813153,"stop":1771612813153,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Archive Category Alert","time":{"start":1771612813153,"stop":1771612813153,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Navbar Element","time":{"start":1771612813153,"stop":1771612813153,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Locator expected not to be visible\nActual value: None\nError: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\n    1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">utility</span> aka locator(\"div\").filter(has_text=\"utility\").nth(5)\n    2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">white</span> aka locator(\"div\").filter(has_text=\"white\").nth(5)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"[class*='css-14vsv3w']\")","statusTrace":"page = <Page url='http://frontend.niffler.dc/profile'>\nprofile_page = <pages.profile_page.ProfilePage object at 0x7fee5322df00>\nnavbar_element = <components.navbar_element.NavbarElement object at 0x7fee53158130>\narchive_category_alert = <components.archive_category_alert_element.ArchiveCategoryAlertElement object at 0x7fee5315b5b0>\nheader_element = <components.header_element.HeaderElement object at 0x7fee5315b640>\n\n    @allure.feature(\"Страница Профиль\")\n    @allure.title(\"Редактирование категории\")\n    @pytest.mark.usefixtures(\"login_user\", \"create_category\")\n    def test_archive_category(page, profile_page, navbar_element, archive_category_alert, header_element):\n        header_element.click_person_icon()\n        navbar_element.click_profile_link()\n        profile_page.click_archive_category_button()\n        archive_category_alert.click_archive_button()\n>       profile_page.check_archived_category_not_visibility()\n\ntests/ui_tests/test_profile.py:42: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.profile_page.ProfilePage object at 0x7fee5322df00>\n\n    def check_archived_category_not_visibility(self):\n>       self.category_tag.should_not_be_visible()\n\npages/profile_page.py:53: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_factory.tag.Tag object at 0x7fee5322dcf0>, kwargs = {}\nlocator = <Locator frame=<Frame name= url='http://frontend.niffler.dc/profile'> selector=\"[class*='css-14vsv3w']\">\n\n    def should_not_be_visible(self, **kwargs):\n        with allure.step(f'Проверить что {self.type_of} \"{self.name}\" не отображается'):\n            locator = self.get_locator(**kwargs)\n>           expect(locator).not_to_be_visible()\nE           AssertionError: Locator expected not to be visible\nE           Actual value: None\nE           Error: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\nE               1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">utility</span> aka locator(\"div\").filter(has_text=\"utility\").nth(5)\nE               2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">white</span> aka locator(\"div\").filter(has_text=\"white\").nth(5)\nE            \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for locator(\"[class*='css-14vsv3w']\")\n\npage_factory/component.py:60: AssertionError","steps":[{"name":"Нажать button  \"MainMenu\"","time":{"start":1771612813154,"stop":1771612813983,"duration":829},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать link  \"Profile\"","time":{"start":1771612813983,"stop":1771612814280,"duration":297},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать на первый button с названием \"Archive button\"","time":{"start":1771612814280,"stop":1771612814585,"duration":305},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать на последний button с названием \"Archive\"","time":{"start":1771612814585,"stop":1771612814855,"duration":270},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить что tag \"Category tag\" не отображается","time":{"start":1771612814855,"stop":1771612814874,"duration":19},"status":"failed","statusMessage":"AssertionError: Locator expected not to be visible\nActual value: None\nError: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\n    1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">utility</span> aka locator(\"div\").filter(has_text=\"utility\").nth(5)\n    2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">white</span> aka locator(\"div\").filter(has_text=\"white\").nth(5)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"[class*='css-14vsv3w']\")\n\n","statusTrace":"  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/page_factory/component.py\", line 60, in should_not_be_visible\n    expect(locator).not_to_be_visible()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 20476, in not_to_be_visible\n    self._sync(\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 779, in not_to_be_visible\n    await self._not.to_be_visible(visible, timeout)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3405231a3bc5fe18","name":"screenshotе","source":"3405231a3bc5fe18.png","type":"image/png","size":66331}],"parameters":[],"stepsCount":5,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"create_category::teardown","time":{"start":1771612815061,"stop":1771612815064,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"10177fdab808a19c","name":"SELECT niffler-spend","source":"10177fdab808a19c.txt","type":"text/plain","size":218},{"uid":"18a1813b894a894c","name":"DELETE niffler-spend","source":"18a1813b894a894c.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"browser::teardown","time":{"start":1771612815066,"stop":1771612815104,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Страница Профиль"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"10151-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui_tests.test_profile"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"faf63e4a51799dda.json","parameterValues":[]}