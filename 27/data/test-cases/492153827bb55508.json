{"uid":"492153827bb55508","name":"Редактирование категории","fullName":"tests.ui_tests.test_profile#test_archive_category","historyId":"41c74135c5a06f0add260605990da48d","time":{"start":1771441741085,"stop":1771441742911,"duration":1826},"status":"failed","statusMessage":"AssertionError: Locator expected not to be visible\nActual value: None\nError: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\n    1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">outcomes</span> aka locator(\"div\").filter(has_text=\"outcomes\").nth(5)\n    2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">references</span> aka locator(\"div\").filter(has_text=\"references\").nth(5)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"[class*='css-14vsv3w']\")","statusTrace":"page = <Page url='http://frontend.niffler.dc/profile'>\nprofile_page = <pages.profile_page.ProfilePage object at 0x7f5c71b69d80>\nnavbar_element = <components.navbar_element.NavbarElement object at 0x7f5c71b6af50>\narchive_category_alert = <components.archive_category_alert_element.ArchiveCategoryAlertElement object at 0x7f5c71b6aa70>\nheader_element = <components.header_element.HeaderElement object at 0x7f5c71b6bac0>\n\n    @allure.feature(\"Страница Профиль\")\n    @allure.title(\"Редактирование категории\")\n    @pytest.mark.usefixtures(\"login_user\", \"create_category\")\n    def test_archive_category(page, profile_page, navbar_element, archive_category_alert, header_element):\n        header_element.click_person_icon()\n        navbar_element.click_profile_link()\n        profile_page.click_archive_category_button()\n        archive_category_alert.click_archive_button()\n>       profile_page.check_archived_category_not_visibility()\n\ntests/ui_tests/test_profile.py:42: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.profile_page.ProfilePage object at 0x7f5c71b69d80>\n\n    def check_archived_category_not_visibility(self):\n>       self.category_tag.should_not_be_visible()\n\npages/profile_page.py:53: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_factory.tag.Tag object at 0x7f5c71b6afb0>, kwargs = {}\nlocator = <Locator frame=<Frame name= url='http://frontend.niffler.dc/profile'> selector=\"[class*='css-14vsv3w']\">\n\n    def should_not_be_visible(self, **kwargs):\n        with allure.step(f'Проверить что {self.type_of} \"{self.name}\" не отображается'):\n            locator = self.get_locator(**kwargs)\n>           expect(locator).not_to_be_visible()\nE           AssertionError: Locator expected not to be visible\nE           Actual value: None\nE           Error: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\nE               1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">outcomes</span> aka locator(\"div\").filter(has_text=\"outcomes\").nth(5)\nE               2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">references</span> aka locator(\"div\").filter(has_text=\"references\").nth(5)\nE            \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for locator(\"[class*='css-14vsv3w']\")\n\npage_factory/component.py:60: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Base Url","time":{"start":1771441708364,"stop":1771441708364,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Pytestconfig","time":{"start":1771441708365,"stop":1771441708365,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Delete Output Dir","time":{"start":1771441708365,"stop":1771441708365,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1771441708365,"stop":1771441708365,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771441708365,"stop":1771441708368,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"e29564b7e29a91ac","name":"envs.json","source":"e29564b7e29a91ac.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S] Authority Db","time":{"start":1771441708369,"stop":1771441708537,"duration":168},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771441708538,"stop":1771441708538,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771441708538,"stop":1771441710159,"duration":1621},"status":"passed","steps":[{"name":"GET /register","time":{"start":1771441708573,"stop":1771441709515,"duration":942},"status":"passed","steps":[],"attachments":[{"uid":"ec8e497472d9c7d3","name":"Request","source":"ec8e497472d9c7d3.html","type":"text/html","size":2053},{"uid":"e9927fcdee3e54b8","name":"9ce2904f-f647-4b9e-8903-bd13da18633c-attachment.txt","source":"e9927fcdee3e54b8.txt","type":"text/plain","size":3731}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /register","time":{"start":1771441709522,"stop":1771441710159,"duration":637},"status":"passed","steps":[],"attachments":[{"uid":"40cd454cc2df7d5d","name":"Request","source":"40cd454cc2df7d5d.html","type":"text/html","size":2710},{"uid":"2aa5106fe8a3694c","name":"dc9a428a-6a50-4a33-9c92-3904d6f511e9-attachment.txt","source":"2aa5106fe8a3694c.txt","type":"text/plain","size":2279}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"[S] Category Db","time":{"start":1771441710160,"stop":1771441710160,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Token","time":{"start":1771441710161,"stop":1771441711196,"duration":1035},"status":"passed","steps":[{"name":"GET /oauth2/authorize","time":{"start":1771441710181,"stop":1771441710390,"duration":209},"status":"passed","steps":[],"attachments":[{"uid":"e7148ad87052fcaa","name":"Request","source":"e7148ad87052fcaa.html","type":"text/html","size":2119},{"uid":"d0bd7662f6385925","name":"3916b700-d745-4951-98cf-c840fbb2ff32-attachment.txt","source":"d0bd7662f6385925.txt","type":"text/plain","size":2897}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /login","time":{"start":1771441710398,"stop":1771441710962,"duration":564},"status":"passed","steps":[],"attachments":[{"uid":"e446e28905f7ca44","name":"Request","source":"e446e28905f7ca44.html","type":"text/html","size":2397},{"uid":"e4e083c3e9edf5fa","name":"98ec818b-7ba1-4cd1-953a-2720621badc2-attachment.txt","source":"e4e083c3e9edf5fa.txt","type":"text/plain","size":417}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /oauth2/token","time":{"start":1771441710973,"stop":1771441711196,"duration":223},"status":"passed","steps":[],"attachments":[{"uid":"7d3a064a0cbe9a95","name":"Request","source":"7d3a064a0cbe9a95.html","type":"text/html","size":3376},{"uid":"805e3502aa6d4e5a","name":"Response json 200","source":"805e3502aa6d4e5a.json","type":"application/json","size":1521}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"[F] Browser","time":{"start":1771441740000,"stop":1771441740344,"duration":344},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Page","time":{"start":1771441740344,"stop":1771441740474,"duration":130},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Login Page","time":{"start":1771441740474,"stop":1771441740474,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Login User","time":{"start":1771441740474,"stop":1771441741060,"duration":586},"status":"passed","steps":[{"name":"Ввести в input \"Username\" значение \"Alex\"","time":{"start":1771441740537,"stop":1771441740739,"duration":202},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ввести в input \"Password\" значение \"SonyXperia\"","time":{"start":1771441740739,"stop":1771441740844,"duration":105},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать button  \"Log in\"","time":{"start":1771441740844,"stop":1771441741009,"duration":165},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"[F] Category Value","time":{"start":1771441741060,"stop":1771441741060,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Create Category","time":{"start":1771441741060,"stop":1771441741083,"duration":23},"status":"passed","steps":[{"name":"Отправить запрос на создание категории","time":{"start":1771441741061,"stop":1771441741083,"duration":22},"status":"passed","steps":[{"name":"POST /api/categories/add","time":{"start":1771441741066,"stop":1771441741083,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"2e9aeb32b1d5d509","name":"Request","source":"2e9aeb32b1d5d509.html","type":"text/html","size":3827},{"uid":"569853372f7d7bd4","name":"Response json 200","source":"569853372f7d7bd4.json","type":"application/json","size":123}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"name","value":"'outcomes'"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"[F] Spends Client","time":{"start":1771441741060,"stop":1771441741060,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Navbar Element","time":{"start":1771441741083,"stop":1771441741084,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Profile Page","time":{"start":1771441741083,"stop":1771441741083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Archive Category Alert","time":{"start":1771441741084,"stop":1771441741084,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Header Element","time":{"start":1771441741084,"stop":1771441741084,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Locator expected not to be visible\nActual value: None\nError: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\n    1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">outcomes</span> aka locator(\"div\").filter(has_text=\"outcomes\").nth(5)\n    2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">references</span> aka locator(\"div\").filter(has_text=\"references\").nth(5)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"[class*='css-14vsv3w']\")","statusTrace":"page = <Page url='http://frontend.niffler.dc/profile'>\nprofile_page = <pages.profile_page.ProfilePage object at 0x7f5c71b69d80>\nnavbar_element = <components.navbar_element.NavbarElement object at 0x7f5c71b6af50>\narchive_category_alert = <components.archive_category_alert_element.ArchiveCategoryAlertElement object at 0x7f5c71b6aa70>\nheader_element = <components.header_element.HeaderElement object at 0x7f5c71b6bac0>\n\n    @allure.feature(\"Страница Профиль\")\n    @allure.title(\"Редактирование категории\")\n    @pytest.mark.usefixtures(\"login_user\", \"create_category\")\n    def test_archive_category(page, profile_page, navbar_element, archive_category_alert, header_element):\n        header_element.click_person_icon()\n        navbar_element.click_profile_link()\n        profile_page.click_archive_category_button()\n        archive_category_alert.click_archive_button()\n>       profile_page.check_archived_category_not_visibility()\n\ntests/ui_tests/test_profile.py:42: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.profile_page.ProfilePage object at 0x7f5c71b69d80>\n\n    def check_archived_category_not_visibility(self):\n>       self.category_tag.should_not_be_visible()\n\npages/profile_page.py:53: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_factory.tag.Tag object at 0x7f5c71b6afb0>, kwargs = {}\nlocator = <Locator frame=<Frame name= url='http://frontend.niffler.dc/profile'> selector=\"[class*='css-14vsv3w']\">\n\n    def should_not_be_visible(self, **kwargs):\n        with allure.step(f'Проверить что {self.type_of} \"{self.name}\" не отображается'):\n            locator = self.get_locator(**kwargs)\n>           expect(locator).not_to_be_visible()\nE           AssertionError: Locator expected not to be visible\nE           Actual value: None\nE           Error: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\nE               1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">outcomes</span> aka locator(\"div\").filter(has_text=\"outcomes\").nth(5)\nE               2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">references</span> aka locator(\"div\").filter(has_text=\"references\").nth(5)\nE            \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for locator(\"[class*='css-14vsv3w']\")\n\npage_factory/component.py:60: AssertionError","steps":[{"name":"Нажать button  \"MainMenu\"","time":{"start":1771441741085,"stop":1771441741933,"duration":848},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать link  \"Profile\"","time":{"start":1771441741933,"stop":1771441742226,"duration":293},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать на первый button с названием \"Archive button\"","time":{"start":1771441742226,"stop":1771441742520,"duration":294},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажать на последний button с названием \"Archive\"","time":{"start":1771441742520,"stop":1771441742787,"duration":267},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить что tag \"Category tag\" не отображается","time":{"start":1771441742787,"stop":1771441742806,"duration":19},"status":"failed","statusMessage":"AssertionError: Locator expected not to be visible\nActual value: None\nError: strict mode violation: locator(\"[class*='css-14vsv3w']\") resolved to 2 elements:\n    1) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">outcomes</span> aka locator(\"div\").filter(has_text=\"outcomes\").nth(5)\n    2) <span class=\"MuiChip-label MuiChip-labelMedium css-14vsv3w\">references</span> aka locator(\"div\").filter(has_text=\"references\").nth(5)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"[class*='css-14vsv3w']\")\n\n","statusTrace":"  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/page_factory/component.py\", line 60, in should_not_be_visible\n    expect(locator).not_to_be_visible()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 20476, in not_to_be_visible\n    self._sync(\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 779, in not_to_be_visible\n    await self._not.to_be_visible(visible, timeout)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-tests-python/.venv/lib/python3.10/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1276ebeda14b9ba4","name":"screenshotе","source":"1276ebeda14b9ba4.png","type":"image/png","size":67060}],"parameters":[],"stepsCount":5,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"create_category::teardown","time":{"start":1771441742920,"stop":1771441742923,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"1484165bf33708df","name":"SELECT niffler-spend","source":"1484165bf33708df.txt","type":"text/plain","size":218},{"uid":"db1daa9dd7f25f83","name":"DELETE niffler-spend","source":"db1daa9dd7f25f83.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"browser::teardown","time":{"start":1771441742924,"stop":1771441742961,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Страница Профиль"},{"name":"host","value":"runnervmjduv7"},{"name":"thread","value":"8925-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui_tests.test_profile"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"c918da7d3fe101f0","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/26/#testresult/c918da7d3fe101f0","status":"broken","statusDetails":"requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)","time":{"start":1771352627692,"stop":1771352627692,"duration":0}}]},"tags":[]},"source":"492153827bb55508.json","parameterValues":[]}