{"uid":"4ffb3db271297196","name":"Получить все категории","fullName":"tests.api_tests.test_categories_api#test_get_all_categories","historyId":"7beeb4c14254cc5a54c4c5589302ab54","time":{"start":1771691129595,"stop":1771691129638,"duration":43},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Pytestconfig","time":{"start":1771691127558,"stop":1771691127558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771691127558,"stop":1771691127560,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"65e3a7dc8eeb2c7d","name":"envs.json","source":"65e3a7dc8eeb2c7d.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S] Base Url","time":{"start":1771691127558,"stop":1771691127558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1771691127558,"stop":1771691127558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Delete Output Dir","time":{"start":1771691127558,"stop":1771691127558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] User Db","time":{"start":1771691127560,"stop":1771691127646,"duration":86},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771691127646,"stop":1771691127646,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771691127646,"stop":1771691128444,"duration":798},"status":"passed","steps":[{"name":"GET /register","time":{"start":1771691127860,"stop":1771691128186,"duration":326},"status":"passed","steps":[],"attachments":[{"uid":"6e862d5b513bcdb0","name":"Request","source":"6e862d5b513bcdb0.html","type":"text/html","size":2053},{"uid":"9bda2eb79c0119bd","name":"ff4cb4b6-128c-433f-84da-d1d613b37124-attachment.txt","source":"9bda2eb79c0119bd.txt","type":"text/plain","size":3731}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /register","time":{"start":1771691128193,"stop":1771691128444,"duration":251},"status":"passed","steps":[],"attachments":[{"uid":"27612be3a8fb3d0","name":"Request","source":"27612be3a8fb3d0.html","type":"text/html","size":2710},{"uid":"cec38277c925a72d","name":"9994ec9e-0f19-4f94-97a1-5d8d3fa52297-attachment.txt","source":"cec38277c925a72d.txt","type":"text/plain","size":2279}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"856588036fe88ac0","name":"select niffler-userdata","source":"856588036fe88ac0.txt","type":"text/plain","size":27},{"uid":"30115dd7d5373965","name":"select niffler-userdata","source":"30115dd7d5373965.txt","type":"text/plain","size":23},{"uid":"9068853b42faef0b","name":"show niffler-userdata","source":"9068853b42faef0b.txt","type":"text/plain","size":32},{"uid":"d9e8f6e99555a0e1","name":"SELECT niffler-userdata","source":"d9e8f6e99555a0e1.txt","type":"text/plain","size":161}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},{"name":"[S] Auth Token","time":{"start":1771691128445,"stop":1771691128973,"duration":528},"status":"passed","steps":[{"name":"GET /oauth2/authorize","time":{"start":1771691128454,"stop":1771691128599,"duration":145},"status":"passed","steps":[],"attachments":[{"uid":"a62dc2426584fb2c","name":"Request","source":"a62dc2426584fb2c.html","type":"text/html","size":2119},{"uid":"d9d9d21f9cb24d55","name":"f69749d9-d593-4e75-b14c-fc994744d338-attachment.txt","source":"d9d9d21f9cb24d55.txt","type":"text/plain","size":2897}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /login","time":{"start":1771691128607,"stop":1771691128888,"duration":281},"status":"passed","steps":[],"attachments":[{"uid":"87d4efc5b77bcf89","name":"Request","source":"87d4efc5b77bcf89.html","type":"text/html","size":2397},{"uid":"92b9df696d64b4d7","name":"5d247637-c960-42c6-820d-42360f7ae861-attachment.txt","source":"92b9df696d64b4d7.txt","type":"text/plain","size":417}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /oauth2/token","time":{"start":1771691128892,"stop":1771691128972,"duration":80},"status":"passed","steps":[],"attachments":[{"uid":"824a48feca95e40b","name":"Request","source":"824a48feca95e40b.html","type":"text/html","size":3376},{"uid":"753dd40389075f2f","name":"Response json 200","source":"753dd40389075f2f.json","type":"application/json","size":1521}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"[S] Category Db","time":{"start":1771691128445,"stop":1771691128445,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Category Value","time":{"start":1771691129555,"stop":1771691129555,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Create Category","time":{"start":1771691129555,"stop":1771691129572,"duration":17},"status":"passed","steps":[{"name":"Отправить запрос на создание категории","time":{"start":1771691129555,"stop":1771691129572,"duration":17},"status":"passed","steps":[{"name":"POST /api/categories/add","time":{"start":1771691129559,"stop":1771691129572,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"736ddcd19330e828","name":"Request","source":"736ddcd19330e828.html","type":"text/html","size":3827},{"uid":"dc8414e053aa8ccf","name":"Response json 200","source":"dc8414e053aa8ccf.json","type":"application/json","size":123}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"name","value":"'flexible'"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"[F] Spends Client","time":{"start":1771691129555,"stop":1771691129555,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Create Second Category","time":{"start":1771691129572,"stop":1771691129594,"duration":22},"status":"passed","steps":[{"name":"Отправить запрос на создание категории","time":{"start":1771691129573,"stop":1771691129594,"duration":21},"status":"passed","steps":[{"name":"POST /api/categories/add","time":{"start":1771691129576,"stop":1771691129594,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"49d3768c47bf8871","name":"Request","source":"49d3768c47bf8871.html","type":"text/html","size":3827},{"uid":"990927e172214e24","name":"Response json 200","source":"990927e172214e24.json","type":"application/json","size":123}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"name","value":"'category'"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Отправить запрос на список категорий","time":{"start":1771691129595,"stop":1771691129638,"duration":43},"status":"passed","steps":[{"name":"GET /api/categories/all","time":{"start":1771691129599,"stop":1771691129637,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"ac41260efafc8435","name":"Request","source":"ac41260efafc8435.html","type":"text/html","size":3583},{"uid":"8d3ce1ab9acc6b1a","name":"Response json 200","source":"8d3ce1ab9acc6b1a.json","type":"application/json","size":300}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Проверить что id='dc72de22-1944-4a45-9eb0-e28f896bda08' name='flexible' username='Alex' archived=False присутствует в [Category(id='8c9f21a3-2b3f-4a15-ad84-065c99ff4cfd', name='category', username='Alex', archived=False), Category(id='dc72de22-1944-4a45-9eb0-e28f896bda08', name='flexible', username='Alex', archived=False)]","time":{"start":1771691129638,"stop":1771691129638,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить что id='8c9f21a3-2b3f-4a15-ad84-065c99ff4cfd' name='category' username='Alex' archived=False присутствует в [Category(id='8c9f21a3-2b3f-4a15-ad84-065c99ff4cfd', name='category', username='Alex', archived=False), Category(id='dc72de22-1944-4a45-9eb0-e28f896bda08', name='flexible', username='Alex', archived=False)]","time":{"start":1771691129638,"stop":1771691129638,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"create_second_category::teardown","time":{"start":1771691129639,"stop":1771691129642,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"93da220c168abd39","name":"SELECT niffler-spend","source":"93da220c168abd39.txt","type":"text/plain","size":218},{"uid":"da385d2ae8ede623","name":"DELETE niffler-spend","source":"da385d2ae8ede623.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"create_category::teardown","time":{"start":1771691129643,"stop":1771691129645,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"f9d21f23fd909a45","name":"SELECT niffler-spend","source":"f9d21f23fd909a45.txt","type":"text/plain","size":218},{"uid":"26a2e5bac26536bb","name":"DELETE niffler-spend","source":"26a2e5bac26536bb.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"feature","value":"Категории"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"9977-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api_tests.test_categories_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":6,"unknown":0,"total":7},"items":[{"uid":"e2443b0369fa12a9","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/45/#testresult/e2443b0369fa12a9","status":"passed","time":{"start":1771689674103,"stop":1771689674145,"duration":42}},{"uid":"7f8e04a0514c25f4","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/44/#testresult/7f8e04a0514c25f4","status":"broken","statusDetails":"sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"user\" does not exist\nLINE 2: FROM \"user\" \n             ^\n\n[SQL: SELECT \"user\".id, \"user\".username, \"user\".currency, \"user\".firstname, \"user\".surname, \"user\".photo, \"user\".photo_small \nFROM \"user\" \nWHERE \"user\".username = %(username_1)s]\n[parameters: {'username_1': 'Alex'}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","time":{"start":1771689213652,"stop":1771689213652,"duration":0}},{"uid":"c36e517d5b29cfaf","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/43/#testresult/c36e517d5b29cfaf","status":"passed","time":{"start":1771688278994,"stop":1771688279035,"duration":41}},{"uid":"c619cb2d20590532","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/42/#testresult/c619cb2d20590532","status":"passed","time":{"start":1771614433927,"stop":1771614433971,"duration":44}},{"uid":"37397faecbfc2117","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/41/#testresult/37397faecbfc2117","status":"passed","time":{"start":1771613432482,"stop":1771613432525,"duration":43}},{"uid":"2ae60fddb119d1ee","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/40/#testresult/2ae60fddb119d1ee","status":"passed","time":{"start":1771612795080,"stop":1771612795121,"duration":41}}]},"tags":[]},"source":"4ffb3db271297196.json","parameterValues":[]}