{"uid":"3221992cc6b89f39","name":"Редактирование траты","fullName":"tests.api_tests.test_spendings_api#test_edit_spend","historyId":"07c21dc77d8ab42c5d0747a6415e3d6b","time":{"start":1771691130111,"stop":1771691130152,"duration":41},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Pytestconfig","time":{"start":1771691127558,"stop":1771691127558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1771691127558,"stop":1771691127560,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"65e3a7dc8eeb2c7d","name":"envs.json","source":"65e3a7dc8eeb2c7d.json","type":"application/json","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"[S] Base Url","time":{"start":1771691127558,"stop":1771691127558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1771691127558,"stop":1771691127558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Delete Output Dir","time":{"start":1771691127558,"stop":1771691127558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] User Db","time":{"start":1771691127560,"stop":1771691127646,"duration":86},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1771691127646,"stop":1771691127646,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Registration User","time":{"start":1771691127646,"stop":1771691128444,"duration":798},"status":"passed","steps":[{"name":"GET /register","time":{"start":1771691127860,"stop":1771691128186,"duration":326},"status":"passed","steps":[],"attachments":[{"uid":"6e862d5b513bcdb0","name":"Request","source":"6e862d5b513bcdb0.html","type":"text/html","size":2053},{"uid":"9bda2eb79c0119bd","name":"ff4cb4b6-128c-433f-84da-d1d613b37124-attachment.txt","source":"9bda2eb79c0119bd.txt","type":"text/plain","size":3731}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /register","time":{"start":1771691128193,"stop":1771691128444,"duration":251},"status":"passed","steps":[],"attachments":[{"uid":"27612be3a8fb3d0","name":"Request","source":"27612be3a8fb3d0.html","type":"text/html","size":2710},{"uid":"cec38277c925a72d","name":"9994ec9e-0f19-4f94-97a1-5d8d3fa52297-attachment.txt","source":"cec38277c925a72d.txt","type":"text/plain","size":2279}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"856588036fe88ac0","name":"select niffler-userdata","source":"856588036fe88ac0.txt","type":"text/plain","size":27},{"uid":"30115dd7d5373965","name":"select niffler-userdata","source":"30115dd7d5373965.txt","type":"text/plain","size":23},{"uid":"9068853b42faef0b","name":"show niffler-userdata","source":"9068853b42faef0b.txt","type":"text/plain","size":32},{"uid":"d9e8f6e99555a0e1","name":"SELECT niffler-userdata","source":"d9e8f6e99555a0e1.txt","type":"text/plain","size":161}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},{"name":"[S] Auth Token","time":{"start":1771691128445,"stop":1771691128973,"duration":528},"status":"passed","steps":[{"name":"GET /oauth2/authorize","time":{"start":1771691128454,"stop":1771691128599,"duration":145},"status":"passed","steps":[],"attachments":[{"uid":"a62dc2426584fb2c","name":"Request","source":"a62dc2426584fb2c.html","type":"text/html","size":2119},{"uid":"d9d9d21f9cb24d55","name":"f69749d9-d593-4e75-b14c-fc994744d338-attachment.txt","source":"d9d9d21f9cb24d55.txt","type":"text/plain","size":2897}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /login","time":{"start":1771691128607,"stop":1771691128888,"duration":281},"status":"passed","steps":[],"attachments":[{"uid":"87d4efc5b77bcf89","name":"Request","source":"87d4efc5b77bcf89.html","type":"text/html","size":2397},{"uid":"92b9df696d64b4d7","name":"5d247637-c960-42c6-820d-42360f7ae861-attachment.txt","source":"92b9df696d64b4d7.txt","type":"text/plain","size":417}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"POST /oauth2/token","time":{"start":1771691128892,"stop":1771691128972,"duration":80},"status":"passed","steps":[],"attachments":[{"uid":"824a48feca95e40b","name":"Request","source":"824a48feca95e40b.html","type":"text/html","size":3376},{"uid":"753dd40389075f2f","name":"Response json 200","source":"753dd40389075f2f.json","type":"application/json","size":1521}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"[S] Category Db","time":{"start":1771691128445,"stop":1771691128445,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Spend Db","time":{"start":1771691129648,"stop":1771691129649,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spend Data For Add","time":{"start":1771691130078,"stop":1771691130078,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spend Data For Edit","time":{"start":1771691130078,"stop":1771691130078,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Spends Client","time":{"start":1771691130078,"stop":1771691130078,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Add Spend","time":{"start":1771691130078,"stop":1771691130110,"duration":32},"status":"passed","steps":[{"name":"Отправить запрос на создание траты","time":{"start":1771691130079,"stop":1771691130110,"duration":31},"status":"passed","steps":[{"name":"POST /api/spends/add","time":{"start":1771691130082,"stop":1771691130110,"duration":28},"status":"passed","steps":[],"attachments":[{"uid":"2f1f002d85df25e5","name":"Request","source":"2f1f002d85df25e5.html","type":"text/html","size":4195},{"uid":"168368e3cef777da","name":"Response json 201","source":"168368e3cef777da.json","type":"application/json","size":393}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"spend","value":"{'amount': 1261.84, 'description': 'The arguments can be primitive data type', 'category': CategoryAdd(name='wells', username=None, archived=None), 'spendDate': '2026-02-20T16:25:30.078159', 'currency': 'EUR'}"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"[F] Currency","time":{"start":1771691130078,"stop":1771691130078,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Delete Category With Spendings","time":{"start":1771691130078,"stop":1771691130078,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Delete Category With Edited Spendings","time":{"start":1771691130110,"stop":1771691130110,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Отправить запрос на редактирование траты","time":{"start":1771691130111,"stop":1771691130152,"duration":41},"status":"passed","steps":[{"name":"PATCH /api/spends/edit","time":{"start":1771691130119,"stop":1771691130151,"duration":32},"status":"passed","steps":[],"attachments":[{"uid":"94cc4999a0a171f8","name":"Request","source":"94cc4999a0a171f8.html","type":"text/html","size":4261},{"uid":"cae1eeefb9cea509","name":"Response json 200","source":"cae1eeefb9cea509.json","type":"application/json","size":378}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"edit_spend","value":"{'id': 'd2a4c8c5-1972-4d7c-95bc-fef572b46450', 'amount': 1411.49, 'description': 'Where are my pants?', 'category': CategoryAdd(name='christopher', username=None, archived=None), 'spendDate': '2026-02-20T16:25:30.077933', 'currency': 'USD'}"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Сравнить 1411.49 и 1411.49","time":{"start":1771691130152,"stop":1771691130152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить Where are my pants? и Where are my pants?","time":{"start":1771691130152,"stop":1771691130152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить 2026-02-20 и 2026-02-20","time":{"start":1771691130152,"stop":1771691130152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить USD и USD","time":{"start":1771691130152,"stop":1771691130152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравнить christopher и christopher","time":{"start":1771691130152,"stop":1771691130152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"delete_category_with_edited_spendings::teardown","time":{"start":1771691130152,"stop":1771691130189,"duration":37},"status":"passed","steps":[{"name":"Отправить запрос на получение списка трат","time":{"start":1771691130152,"stop":1771691130170,"duration":18},"status":"passed","steps":[{"name":"GET /api/spends/all","time":{"start":1771691130156,"stop":1771691130169,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"5c4ed949f705f43e","name":"Request","source":"5c4ed949f705f43e.html","type":"text/html","size":3575},{"uid":"608ea780451d8bac","name":"Response json 200","source":"608ea780451d8bac.json","type":"application/json","size":438}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Отправить запрос на удаление траты","time":{"start":1771691130170,"stop":1771691130186,"duration":16},"status":"passed","steps":[{"name":"DELETE /api/spends/remove","time":{"start":1771691130174,"stop":1771691130186,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"c690b67f4d9a345f","name":"Request","source":"c690b67f4d9a345f.html","type":"text/html","size":3789},{"uid":"4b10cbb01f681e0e","name":"f283b24a-819f-4df5-b97b-557757362590-attachment.txt","source":"4b10cbb01f681e0e.txt","type":"text/plain","size":0}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"ids","value":"['d2a4c8c5-1972-4d7c-95bc-fef572b46450']"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"153a62d6bb1c74ae","name":"SELECT niffler-spend","source":"153a62d6bb1c74ae.txt","type":"text/plain","size":150},{"uid":"739c22682cd6f5c8","name":"SELECT niffler-spend","source":"739c22682cd6f5c8.txt","type":"text/plain","size":218},{"uid":"f6305a166034ad34","name":"DELETE niffler-spend","source":"f6305a166034ad34.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"delete_category_with_spendings::teardown","time":{"start":1771691130190,"stop":1771691130210,"duration":20},"status":"passed","steps":[{"name":"Отправить запрос на получение списка трат","time":{"start":1771691130190,"stop":1771691130206,"duration":16},"status":"passed","steps":[{"name":"GET /api/spends/all","time":{"start":1771691130194,"stop":1771691130206,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"c5f93a28897d3978","name":"Request","source":"c5f93a28897d3978.html","type":"text/html","size":3575},{"uid":"5f4c3bba3c5eaa3","name":"Response json 200","source":"5f4c3bba3c5eaa3.json","type":"application/json","size":2}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"79e5e3f6db04bbc0","name":"SELECT niffler-spend","source":"79e5e3f6db04bbc0.txt","type":"text/plain","size":144},{"uid":"ee21a527881d978","name":"SELECT niffler-spend","source":"ee21a527881d978.txt","type":"text/plain","size":218},{"uid":"aed3978eb207e408","name":"DELETE niffler-spend","source":"aed3978eb207e408.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"feature","value":"Траты"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"9977-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api_tests.test_spendings_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":6,"unknown":0,"total":7},"items":[{"uid":"6f5f64de3c90e51b","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/45/#testresult/6f5f64de3c90e51b","status":"passed","time":{"start":1771689674656,"stop":1771689674685,"duration":29}},{"uid":"1770c524f2aee30b","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/44/#testresult/1770c524f2aee30b","status":"broken","statusDetails":"sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"user\" does not exist\nLINE 2: FROM \"user\" \n             ^\n\n[SQL: SELECT \"user\".id, \"user\".username, \"user\".currency, \"user\".firstname, \"user\".surname, \"user\".photo, \"user\".photo_small \nFROM \"user\" \nWHERE \"user\".username = %(username_1)s]\n[parameters: {'username_1': 'Alex'}]\n(Background on this error at: https://sqlalche.me/e/20/f405)","time":{"start":1771689215657,"stop":1771689215657,"duration":0}},{"uid":"205866cf175b684e","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/43/#testresult/205866cf175b684e","status":"passed","time":{"start":1771688279534,"stop":1771688279564,"duration":30}},{"uid":"f8eecf8c66e6d53d","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/42/#testresult/f8eecf8c66e6d53d","status":"passed","time":{"start":1771614434513,"stop":1771614434542,"duration":29}},{"uid":"8f9190570f1ed102","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/41/#testresult/8f9190570f1ed102","status":"passed","time":{"start":1771613432998,"stop":1771613433028,"duration":30}},{"uid":"e7b2e41ea11e95a5","reportUrl":"https://AlexLumen.github.io/niffler-py-st3/40/#testresult/e7b2e41ea11e95a5","status":"passed","time":{"start":1771612795615,"stop":1771612795641,"duration":26}}]},"tags":[]},"source":"3221992cc6b89f39.json","parameterValues":[]}